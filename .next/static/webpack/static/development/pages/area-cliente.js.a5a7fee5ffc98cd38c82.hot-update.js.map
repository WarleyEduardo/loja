{"version":3,"file":"static/webpack/static\\development\\pages\\area-cliente.js.a5a7fee5ffc98cd38c82.hot-update.js","sources":["webpack:///./redux/actions/clienteActions.js","webpack:///./redux/types.js"],"sourcesContent":["/*modulo 49 - Criando as funções e error handlign para os dados do cliente 2/2*/\r\nimport { FETCH_CLIENTE, LOGOUT_CLIENTE } from '../types';\r\n\r\nimport axios from 'axios';\r\nimport { url , loja} from '../../config.js';\r\nimport { getHeaders } from './helpers';\r\n\r\n/*modulo 49 - Dados de entrega - criando funções e preparando a base */\r\n\r\n/*modulo 49 - submit dados do cliente - fazendo a integreção e ativando dados do cliente (2/2) */\r\n\r\nimport { autenticar, desautenticar } from './authActions';\r\nimport errorHandling from './errorHandling';\r\n\r\n\r\n/*Módulo 51 -  menu -  criando actionse reducers ...*/\r\nexport const logoutCliente = () => dispatch => {\r\n\r\n\tdispatch(desautenticar());\r\n\tdispatch({type: LOGOUT_CLIENTE})\r\n}\r\n\r\nexport const getRawData = (data) => {\r\n\r\n\r\n\r\n\tlet _data = data.split('/');\t\r\n\r\n\tlet ano = _data[2];\r\n\tlet mes = _data[1]; \r\n\tlet dia = _data[0]; \r\n\r\n\t//let _mes = _data[1];\r\n\r\n\t//let mes = _mes < 10 ? \"0\" + _mes : _mes;\r\n\r\n\t//let _dia = Number(_data[0]) + 1;\r\n\r\n\t//let dia = _dia < 10 ? \"0\" + _dia : _dia;\r\n\r\n\treturn `${ano}-${mes}-${dia}`;\r\n}\r\n\r\n\r\nexport const newCliente = (form, cb) => (dispatch) => {\r\n\t\r\n\taxios.post(`${url}/api/clientes?loja=${loja}`, {\r\n\t\t\r\n\t\tnome: form.nome,\r\n\t\tpassword: form.senha,\r\n\t\tcpf: form.cpf,\r\n\t\temail: form.email,\r\n\t\ttelefones: [form.telefone],\r\n\t\tendereco: {\r\n\t\t\tlocal: form.local,\r\n\t\t\tnumero: form.numero,\r\n\t\t\tcomplemento: form.complemento,\r\n\t\t\tbairro: form.bairro,\r\n\t\t\tcidade: form.cidade,\r\n\t\t\testado: form.estado,\r\n\t\t\tCEP : form.CEP\r\n\t\t\t\r\n\t\t},\r\n\t\tdataDeNascimento : getRawData(form.dataDeNascimento)\r\n\t  }\r\n\t).then(\r\n\t\t(response) => {\t\t\r\n\t\t\tdispatch({ type: FETCH_CLIENTE, payload: response.data })\r\n\t\t\tdispatch(autenticar({ email: form.email, password: form.senha },null, cb))\r\n\t\t\tcb(null)\r\n\t\t}\r\n\t).catch(e => cb(errorHandling(e)));\r\n}\r\n\r\n\r\nexport const updateCliente = (form, id, token, cb) => (dispatch) => {\r\n\taxios.put(\r\n\t\t\t`${url}/api/clientes/${id}?loja=${loja}`,\r\n\t\t\t{\r\n\t\t\t\tnome: form.nome,\r\n\t\t\t\tcpf: form.cpf,\r\n\t\t\t\ttelefones: [form.telefone],\r\n\t\t\t\tendereco: {\r\n\t\t\t\t\tlocal: form.local,\r\n\t\t\t\t\tnumero: form.numero,\r\n\t\t\t\t\tcomplemento: form.complemento,\r\n\t\t\t\t\tbairro: form.bairro,\r\n\t\t\t\t\tcidade: form.cidade,\r\n\t\t\t\t\testado: form.estado,\r\n\t\t\t\t\tCEP: form.CEP,\r\n\t\t\t\t},\r\n\t\t\t\tdataDeNascimento: getRawData(form.dataDeNascimento),\r\n\t\t\t},\r\n\t\t\tgetHeaders(token)\r\n\t\t)\r\n\t\t.then((response) => {\r\n\t\t\tdispatch({ type: FETCH_CLIENTE, payload: response.data });\r\n\t\t\tcb(null);\r\n\t\t})\r\n\t\t.catch((e) => cb(errorHandling(e)));\r\n};\r\n\r\n\r\n\r\nexport const fetchCliente = (id, token) => dispatch => {\r\n\t\r\n\taxios.get(`${url}/api/clientes/${id}?loja=${loja}`, getHeaders(token))\r\n\t.then((response) => {\r\n\t  \r\n\t\tdispatch({type: FETCH_CLIENTE, payload : response.data})\r\n\r\n\t}).catch( e => console.log(e))\r\n};\r\n\r\nexport default {\r\n\tfetchCliente,\r\n\tnewCliente,\r\n\tupdateCliente\r\n};","/* modulo 40 - loja virtual - criando helper para inicialização*/\r\n\r\n/* modulo 45 - Criando actions e reduces e atualizando os componentes das categorias*/\r\n\r\n/*modulo 46 - adicionando actions e reducers e alterando os componentes para integração*/\r\n\r\n/* modulo 47 -  integração -  detalhes do produto */\r\n\r\n/*modulo 49 - Criando as funções e error handlign para os dados do cliente 2/2*/\r\n\r\n/*modulo 49 - integração checkout - desenvolvendo o container dos dados do cliente */\r\n\r\n/* módulo 49 -  Dados de pagamento - preparando a base, actions e  funções do pagseguro */\r\n\r\n/*modulo 49 - Botão final de checkout -  preprando base , actions e reducers */\r\n\r\n/*Módulo 51 -  menu -  criando actionse reducers ...*/\r\nexport const REGISTER = 'REGISTER',\r\n\tAUTENTICAR_TOKEN = 'AUTENTICAR_TOKEN',\r\n\tFETCH_CATEGORIAS = 'FETCH_CATEGORIAS',\r\n\tFETCH_LOJA = 'FETCH_LOJA',\r\n\tFETCH_PRODUTOS = 'FETCH_PRODUTOS',\r\n\tFETCH_CATEGORIA = 'FETCH_CATEGORIA',\r\n\tFETCH_PRODUTOS_CATEGORIA = 'FETCH_PRODUTOS_CATEGORIA',\r\n\tUSER = 'USER',\r\n\tFETCH_PESQUISA = 'FETCH_PESQUISA',\r\n\tFETCH_PRODUTOS_PESQUISA = 'FETCH_PRODUTOS_PESQUISA',\r\n\tFETCH_PRODUTO = 'FETCH_PRODUTO',\r\n\tFETCH_PRODUTO_VARIACOES = 'FETCH_PRODUTO_VARIACOES',\r\n\tFETCH_PRODUTO_AVALIACOES = 'FETCH_PRODUTO_AVALIACOES',\r\n\tNOVA_AVALIACAO = 'NOVA_AVALIACAO',\r\n\tSET_CARRINHO = 'SET_CARRINHO',\r\n\tCLEAN_CARRINHO = 'CLEAN_CARRINHO',\r\n\tFETCH_PRODUTO_CARRINHO = 'FETCH_PRODUTO_CARRINHO',\r\n\tFETCH_VARIACAO_CARRINHO = 'FETCH_VARIACAO_CARRINHO',\r\n\tFETCH_VALOR_ENTREGA = 'FETCH_VALOR_ENTREGA',\r\n\tUPDATE_QTD_CART = 'UPDATE_QTD_CART',\r\n\tREMOVE_PRODUTO_CART = 'REMOVE_PRODUTO_CART',\r\n\tCLEAN_FRETES = 'CLEAN_FRETES',\r\n\tUPDATE_FRETE_CART = 'UPDATE_FRETE_CART',\r\n\tAUTENTICAR = 'AUTENTICAR',\r\n\tFETCH_CLIENTE = 'FETCH_CLIENTE',\r\n\tSET_FORM = 'SET_FORM',\r\n\tCLEAN_FORM = 'CLEAN_FORM',\r\n\tSET_TIPO_PAGAMENTO = 'SET_TIPO_PAGAMENTO',\r\n\tFETCH_SESSION_ID = 'FETCH_SESSION_ID',\r\n\tFETCH_SENDER_HASH = 'FETCH_SENDER_HASH',\r\n\tNOVO_PEDIDO = 'NOVO_PEDIDO',\r\n\tPAGAR_PEDIDO = 'PAGAR_PEDIDO',\r\n\tFETCH_PEDIDOS = 'FETCH_PEDIDOS',\r\n\tFETCH_PEDIDO = 'FETCH_PEDIDO',\r\n\tCLEAN_PEDIDO = 'CLEAN_PEDIDO',\r\n\tCANCELAR_PEDIDO = 'CANCELAR_PEDIDO',\r\n\tDESAUTENTICAR = 'DESAUTENTICAR',\r\n\tLOGOUT_CLIENTE = 'LOGOUT_CLIENTE';\r\n\r\n\t\r\n\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}
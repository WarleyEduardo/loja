{"version":3,"file":"static/webpack/static\\development\\pages\\checkout.js.4f607cff48121962093e.hot-update.js","sources":["webpack:///./containers/Checkout/SubmitDadosCliente.js"],"sourcesContent":["/* modulo 42 - pagina de Checkout - criando o componente de enviar os dados do cliente e entrega */\r\n\r\nimport React, { Component } from 'react';\r\nimport AlertGeral from '../../components/Alert/Geral';\r\n\r\n\r\n/* Modulo 49 - submit dados do cliente - fazendo a integração e ativando validações (1/2) */\r\n\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport { validateCPF } from '../../utils/validade';\r\n\r\nclass SubmitDadosCliente extends Component {\r\n\tstate = { aviso: null };\r\n\r\n\tcallback =(error) => {\r\n\t\t\r\n\t\tif (!error) {\r\n\t\t\tthis.props.permitir();\r\n\t\t\tthis.setState({aviso: null})\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tthis.setState({ aviso: { status: false, message: error.message}})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvalidate = () => {\r\n\t\t\r\n\t\t\t\t\r\n\t\tconst { email, senha, nome, cpf, dataDeNascimento, telefone,\r\n\t\t\tlocal, numero, bairro, cidade, estado , CEP} = this.props.form;\r\n\t\t\r\n\t\tconst { usuario } = this.props;\r\n\r\n\t\tlet temErro = false;\r\n\t\t\r\n\t\tif (!usuario && !email) temErro = true;\r\n\t\tif (!usuario && !senha) temErro = true;\r\n\r\n\t\tif (!nome) temErro = true;\r\n\t\tif (!cpf || cpf.lenght === 14 && !validateCPF(cpf)) temErro = true;\r\n\t\tif (!dataDeNascimento || !dataDeNascimento.length !== 10) temErro = true;\r\n\t\tif (!telefone || telefone.length < 11) temErro = true;\r\n\r\n\t\tif (!local) temErro = true;\r\n\t\tif (!numero) temErro = true;\r\n\t\tif (!bairro) temErro = true;\r\n\t\tif (!cidade) temErro = true;\r\n\t\tif (!estado) temErro = true;\r\n\r\n\t\tif (!CEP || CEP.lenght !== 9) temErro = true;\r\n\r\n\t\treturn !temErro; \r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\thandleSubmit() {\t\r\n\t\t\r\n\t\tif (!this.validate()) return null;\t\t\r\n\t\tconst { token, form, cliente } = this.props;\r\n\t\tif (!token) this.props.newCliente(form, this.callback)\r\n\t\telse this.props.updateCliente(form,cliente._id,token,this.callback)\r\n\t\t\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<AlertGeral aviso={this.state.aviso} />\r\n\r\n\t\t\t\t<div className='flex flex-right'>\r\n\t\t\t\t\t<button className='btn btn-success btn-cta' onClick={() => this.handleSubmit()}>\r\n\t\t\t\t\t\tCONTINUAR PEDIDO\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n\tusuario: state.auth.usuario,\r\n\ttoken: state.auth.token,\r\n\tcliente: state.cliente.cliente,\r\n\tform: state.checkout.form\r\n\t\t\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps,actions)(SubmitDadosCliente);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAGA;;;;A","sourceRoot":""}
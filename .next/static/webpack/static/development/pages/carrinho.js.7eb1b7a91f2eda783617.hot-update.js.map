{"version":3,"file":"static/webpack/static\\development\\pages\\carrinho.js.7eb1b7a91f2eda783617.hot-update.js","sources":["webpack:///./containers/Carrinho/ListaDeProdutos.js"],"sourcesContent":["/* modulo 42 - pagina de Carrinho - criando a estrutura da pagina e componentes 1/3 */\r\n/* modulo 42 - pagina de Carrinho - criando a estrutura da pagina e componentes 2/3 */\r\n\r\nimport React, { Component } from 'react';\r\n\r\nimport { formatMoney } from '../../utils';\r\n\r\n/*Modulo 48 -  integrando a lista de produtos */\r\nimport { baseImg } from '../../config';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport { addCart } from '../../utils/cart';\r\n\r\n\r\nclass ListaDeProdutos extends Component {\r\n\trenderCabecalhoCarrinho(semAlteracoes) {\r\n\t\treturn (\r\n\t\t\t<div className='carrinho-cabecalho no-mb-flex flex'>\r\n\t\t\t\t<div className='flex-4'></div>\r\n\r\n\t\t\t\t<div className='headline flex-1 flex flex-center'>\r\n\t\t\t\t\t<h3>Quantidade</h3>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='headline flex-1 flex flex-center'>\r\n\t\t\t\t\t<h3>Preço Unitário</h3>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='headline flex-1 flex flex-center'>\r\n\t\t\t\t\t<h3>Preço total</h3>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{!semAlteracoes && <div className='flex-1'></div>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t\r\n\r\n\t\r\n\tchangeQuantidade(e, quantidade, item, index) {\r\n\r\n\t\tconsole.log('oi')\r\n\t\t\r\n\t\tif (Number(e.target.value) < 1) return;\r\n\t\tlet novaQuantidade = Number(e.target.value);\r\n\t\tlet change = novaQuantidade - quantidade;\r\n\t\tif (novaQuantidade >= item.variacao.quantidade) return alert(\"Quantidade indisponível em estoque\");\r\n\r\n\t\taddCart({\r\n\t\t\tproduto: item.produto._id,\r\n\t\t\tvariacao: item.variacao._id,\r\n\t\t\tquantidade: change,\r\n\t\t\tprecoUnitario: item.precoUnitario\r\n\r\n\t\t}, false);\r\n\t\t\r\n\t\tthis.props.updateQuantidade(change, index);\r\n\r\n \r\n\t} \r\n\t\r\n\r\n\trenderProduto(item, semAlteracoes , index) {\r\n\r\n\t       \r\n\t\t//if (!item.variacao || !item.variacao._id || !item.produto || !item.produto._id) return null;\r\n\t\tif (!item.produto || !item.produto._id) return null;\r\n\r\n\r\n\t\tconst foto =   item.variacao && item.variacao.fotos && item.variacao.fotos.length > 0\r\n\t\t\t? item.variacao.fotos[0] : item.produto.fotos[0];\r\n\t\tconst nome = item.variacao ? item.produto.titulo + ' - ' + item.variacao.nome : item.produto.titulo;\r\n\t\tconst { quantidade, precoUnitario } = item;\r\n\r\n\t\treturn (\r\n\t\t\t<div key={item.produto._id} className='carrinho-item flex'>\r\n\t\t\t\t<div className='flex-4 flex'>\r\n\t\t\t\t\t<div className='produto-image flex-2 flex flex-center'>\r\n\t\t\t\t\t\t<img src={baseImg + foto} alt={nome} width='100px' />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='produto-titulo flex-4 flex flex-start'>\r\n\t\t\t\t\t\t<h3 className='text-center'>{nome}</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1 flex flex-center'>\r\n\t\t\t\t\t{semAlteracoes ?\r\n\t\t\t\t\t\t(<span>{quantidade}</span>) :(\r\n\t\t\t\t\t\t<input type='number'\r\n\t\t\t\t\t\t\tvalue={quantidade}\r\n\t\t\t\t\t\t\tclassName='produto-quantidade'\r\n\t\t\t\t\t\t\tonChange={(e) => this.changeQuantidade(e,quantidade,item,index)}\r\n\t\t\t\t\t\t\t/>)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1 flex flex-center'>\r\n\t\t\t\t\t<span>{formatMoney(precoUnitario)}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1 flex flex-center'>\r\n\t\t\t\t\t<span>{formatMoney(precoUnitario * quantidade)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!semAlteracoes && (\r\n\t\t\t\t\t<div className='flex-1 flex flex-center'>\r\n\t\t\t\t\t\t<span className='btn-remover'>Remover</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderProdutos(semAlteracoes) {\r\n\t\treturn this.props.carrinho.map((item,index) => {\t\t\r\n\r\n\t\t\treturn this.renderProduto(item, semAlteracoes , index);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { semAlteracoes, carrinho } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className='Lista-De-Produtos flex vertical'>\r\n\t\t\t\t{this.renderCabecalhoCarrinho(semAlteracoes)}\r\n\t\t\t\t{carrinho && this.renderProdutos(semAlteracoes)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n\tcarrinho: state.carrinho.carrinho\r\n});\r\n\r\nexport default connect(mapStateToProps,actions)(ListaDeProdutos);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAOA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AAGA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AACA;AAAA;AAEA;;;;A","sourceRoot":""}
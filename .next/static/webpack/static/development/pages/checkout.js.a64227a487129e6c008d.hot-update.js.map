{"version":3,"file":"static/webpack/static\\development\\pages\\checkout.js.a64227a487129e6c008d.hot-update.js","sources":["webpack:///./containers/Cliente/DadosCliente.js"],"sourcesContent":["/* modulo 42 - pagina de Checkout - criando o componente de dados do cliente 2/3  */\r\n/* modulo 42 - pagina de Checkout - criando o componente de dados do cliente 3/3  */\r\n\r\n/* modulo 42 - pagina de Checkout - criando o componente de dados de entrega 1/2  */\r\n\r\nimport React, { Component } from 'react';\r\nimport FormSimples from '../../components/Inputs/FormSimples';\r\n\r\n\r\n\r\n/* modulo 49 - integração checkout - conectando e validando os dados do cliente 1/2 */\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../redux/actions';\r\n\r\nimport moment from 'moment';\r\n\r\n/* conectando e validando os dados do cliente (2/2) */\r\nimport { validateCPF } from '../../utils/validade';\r\n\r\n/* modulo 49 - adicionando as mascaras nos campos para validação dos dados do cliente  */\r\n\r\nimport { formatDataDeNascimento, formatTelefone, formatCPF } from '../../utils/format';\r\n\r\nclass DadosClienteContainer extends Component {\r\n\r\n\tstate = {\r\n\t\t\r\n\t\terros: {}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.setForm({\r\n\t\t\temail: '',\r\n\t\t\tsenha: '',\r\n\t\t\tnome: this.props.cliente ? this.props.cliente.nome : '',\r\n\t\t\tcpf: this.props.cliente ? this.props.cliente.cpf : '',\r\n\t\t\ttelefone: this.props.cliente && this.props.cliente.telefones ? this.props.cliente.telefones[0] : '',\r\n\t\t\tdataDeNascimento: this.props.cliente ? moment(this.props.cliente.dataDeNascimento).format('DD/MM/YYYY') : '',\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (!prevProps.cliente && this.props.cliente) {\r\n\t\t\tconst { nome, cpf, telefones, dataDeNascimento } = this.props.cliente;\r\n\t\t\tthis.props.setForm({\r\n\t\t\t\tnome,\r\n\t\t\t\tcpf,\r\n\t\t\t\ttelefone: telefones[0],\r\n\t\t\t\tdataDeNascimento: moment(dataDeNascimento).format('DD/MM/YYYY'),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvalidate() {\r\n\r\n\t\tconst { email, senha, nome, cpf, dataDeNascimento, telefone } = this.props.form;\r\n\t\tconst { usuario } = this.props;\r\n\t\tconst erros = {};\r\n\r\n\t\tif (!usuario && !email) erros.email = \"Preencha aqui com o seu e-mail\";\r\n\t\tif (!usuario && !senha) erros.senha = \"Preencha aqui com a sua senha\";\r\n\r\n\t\tif (!nome) erros.nome = \"Preencha aqui com o seu nome\";\r\n\t\tif (!cpf || cpf.length !== 14) erros.CPF = \"Preencha aqui com o seu CPF\";\t\r\n\t\tif (cpf && cpf.length === 14 && !validateCPF(cpf)) erros.CPF = \"Preencha aqui com o seu cpf corretamente\";\r\n\t\tif (!dataDeNascimento || dataDeNascimento.length !== 10) erros.dataDeNascimento = \"Preencha aqui com a sua data de nascimento\";\r\n\r\n\t\tif (!telefone || telefone.length < 11) erros.telefone = \"Preencha aqui com o seu telefone\";\r\n\r\n\t\tthis.setState({ erros })\r\n\t\t\r\n\t\treturn (!Object.keys(erros).lenght > 0);\r\n\t\t\r\n \t\t\r\n\t} \r\n\r\n\r\n\tonChange = (field, e, value) => {\r\n\r\n\t\tthis.props.setForm({ [field]: value || e.target.value }, null).then(\r\n\t\t\t() => this.validate()\r\n\t  )\r\n\r\n\t}\r\n\r\n\trenderDadosRegistro() {\r\n\t\tconst { email, senha } = this.props.form;\r\n\t\tconst { erros } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='flex-1 flex horizontal'>\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tplaceholder='E-mail'\r\n\t\t\t\t\t\tlabel='E-mail'\r\n\t\t\t\t\t\terro={erros.email}\r\n\t\t\t\t\t\tonChange={(e) => this.onChange('email', e)} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\tvalue={senha}\r\n\t\t\t\t\t\tname='senha'\r\n\t\t\t\t\t\tplaceholder='Senha'\r\n\t\t\t\t\t\tlabel='Senha'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\terro={erros.senha}\r\n\t\t\t\t\t\tonChange={(e) => this.onChange('senha', e)} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderDadosUsuario() {\r\n\t\tconst { nome, cpf, dataDeNascimento, telefone } = this.props.form;\r\n\t\t\r\n\t\tconst { erros } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='flex-1 flex vertical'>\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<FormSimples value={nome || ''} name='nome' placeholder='Nome' label='Nome' erro={erros.nome} onChange={(e) => this.onChange('nome', e)} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<FormSimples value={cpf || ''} name='CPF' placeholder='CPF' label='CPF' erro={erros.CPF} onChange={(e) => this.onChange('cpf', e, formatCPF(e.target.value))} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1 flex horizontal'>\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\t\tvalue={dataDeNascimento || ''}\r\n\t\t\t\t\t\t\tname='dataDeNascimento'\r\n\t\t\t\t\t\t\tplaceholder='DD/MM/YYYY'\r\n\t\t\t\t\t\t\tlabel='Data de Nascimento'\r\n\t\t\t\t\t\t\terro={erros.dataDeNascimento}\r\n\t\t\t\t\t\t\tonChange={(e) => this.onChange('dataDeNascimento', e, formatDataDeNascimento(e.target.value))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\t\tvalue={telefone || ''}\r\n\t\t\t\t\t\t\tname='telefone'\r\n\t\t\t\t\t\t\tplaceholder='(34) 1234-5678'\r\n\t\t\t\t\t\t\tlabel='Telefone/Celular'\r\n\t\t\t\t\t\t\terro={erros.telefone}\r\n\t\t\t\t\t\t\tonChange={(e) => this.onChange('telefone', e, formatTelefone(e.target.value))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='flex-1'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>DADOS DO CLIENTE</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!this.props.usuario && this.renderDadosRegistro()}\r\n\t\t\t\t{this.renderDadosUsuario()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n\tusuario: state.auth.usuario,\r\n\ttoken: state.auth.token,\r\n\tcliente: state.cliente.cliente,\r\n\tform: state.checkout.form\r\n})\r\n\r\nexport default connect(mapStateToProps,actions)(DadosClienteContainer);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAmDA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AApDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAWA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;;;;A","sourceRoot":""}
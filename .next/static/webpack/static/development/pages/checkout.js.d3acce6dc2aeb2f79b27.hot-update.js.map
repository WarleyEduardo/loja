{"version":3,"file":"static/webpack/static\\development\\pages\\checkout.js.d3acce6dc2aeb2f79b27.hot-update.js","sources":["webpack:///./containers/Checkout/DadosPagamento.js"],"sourcesContent":["/* modulo 42 - pagina de Checkout - criando o componente de dados  de pagamento 1/2 */\r\nimport React, { Component } from 'react';\r\n\r\nimport FormRadio from '../../components/Inputs/FormRadio';\r\nimport FormSimples from '../../components/Inputs/FormSimples';\r\n\r\n/* módulo 49 -  Dados de pagamento - preparando a base, actions e  funções do pagseguro */\r\n\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\n\r\n/* modulo 49 -  Dados de pagamento integrando componentes e funcionalidades*/\r\n\r\nimport { formatCPF } from '../../utils/format';\r\n\r\nclass DadosPagamento extends Component {\r\n\t\r\n\t\r\n\tstate = {\r\n\t\topcaoPagamentoSelecionada: 'boleto',\r\n\t\tCPF: \"\",\r\n\t\tnumeroCartao: \"\",\r\n\t\tnomeCartao: \"\",\r\n\t\tCVVCartao: \"\",\r\n\t\tmesCartao: \"\",\r\n\t\tanoCartao: \"\"\r\n\t};\r\n\r\n\t\r\n\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tthis.props.getSessionPagamento();\r\n\t}\r\n\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t\tconst {\r\n\r\n\t\t\tnumeroCartao,\r\n\t\t\tnomeCartao,\r\n\t\t\tCVVCartao,\r\n\t\t\tmesCartao,\r\n\t\t\tanoCartao,\r\n\t\t\tcredit_card_token,\r\n\t\t\tbandeira_cartao,\r\n\t\t\tparcelasCartao\r\n\r\n\t\t} = this.props.form;\r\n\t\t\r\n\t\tif (!bandeira_cartao && numeroCartao && numeroCartao.split(' ').join('').length > 7) {\r\n\t\t\t\r\n\t\t\tthis.getBrand();\r\n\t\t}\r\n\r\n\t\tif (\t\t\t\r\n\t\t\t!credit_card_token && numeroCartao && numeroCartao.splic(' ').join('').length === 16 &&\r\n\t\t\tmesCartao && mesCartao.length === 2 &&\r\n\t\t\tanoCartao && anoCartao.length === 4 &&\r\n\t\t\tCVVCartao && CVVCartao.length === 3 &&\r\n\t\t\tbandeira_cartao\r\n\t\t) this.submitCartaoHash();\r\n\r\n\t}\r\n\r\n\trenderOpcoesPagamento() {\r\n\t\tconst { tipoPagamentoSelecionado } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='flex horizontal'>\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<FormRadio\r\n\t\t\t\t\t\tname='tipo_pagamento_selecionado'\r\n\t\t\t\t\t\tchecked={tipoPagamentoSelecionado === 'boleto'}\r\n\t\t\t\t\t\tonChange={() => this.props.setTipoPagamento('boleto')}\r\n\t\t\t\t\t\tlabel='Boleto Bancário'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<FormRadio\r\n\t\t\t\t\t\tname='tipo_pagamento_selecionado'\r\n\t\t\t\t\t\tchecked={tipoPagamentoSelecionado === 'cartao'}\r\n\t\t\t\t\t\tonChange={() => this.setTipoPagamento('cartao')}\r\n\t\t\t\t\t\tlabel='Cartão de Crédito'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tvalidate() {\r\n\t\t\r\n\r\n\t}\r\n\r\n\tonChange = (field, value) => this.props.setForm({ [field]: value }).then(()=> this.validate());\r\n\r\n\trenderPagamentoComBoleto() {\r\n\t\t\r\n\t\tconst { cpf, cpfBoleto } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<div className='Dados-Pagamento'>\r\n\t\t\t\t<FormSimples value={cpfBoleto || cpf}\r\n\t\t\t\t\tnome='CPF'\r\n\t\t\t\t\tplaceholder='CPF'\r\n\t\t\t\t\tlabel='CPF'\r\n\t\t\t\t\tonChange={(e) => this.onChange(\"cpfBoleto\" ,formatCPF(e.target.value))} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\r\n\trenderPagamentoComCartao() {\r\n\t\tconst { nomeCartao, numeroCartao, CVVCartao , mesCartao, anoCartao } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className='Dados-Pagamento'>\r\n\t\t\t\t<FormSimples\r\n\t\t\t\t\tvalue={nomeCartao}\r\n\t\t\t\t\tnome='nomeCartao'\r\n\t\t\t\t\tplaceholder='Nome como escrito no cartão'\r\n\t\t\t\t\tlabel='Nome completo no cartão'\r\n\t\t\t\t\tonChange={() => this.onChange('nomeCartao', e)}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className='flex horizontal'>\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\t\tvalue={numeroCartao}\r\n\t\t\t\t\t\t\tnome='numeroCartao'\r\n\t\t\t\t\t\t\tplaceholder='xxxx xxxx xxxx xxxx'\r\n\t\t\t\t\t\t\tlabel='Número do cartão'\r\n\t\t\t\t\t\t\tonChange={() => this.onChange('numeroCartao', e)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<FormSimples value={CVVCartao} nome='CVVCartao' placeholder='xxxx' label='Código de Segurança do Cartão' onChange={() => this.onChange('CVVCartao', e)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-input'>\r\n\t\t\t\t\t<label>Data de Validade</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flex'>\r\n\t\t\t\t\t<FormSimples value={mesCartao} nome='mesCartao' placeholder='MM' label='MÊs' onChange={() => this.onChange('mesCartao', e)} />\r\n\t\t\t\t\t<span className='slash-pagamento'>&nbsp;/&nbsp;</span>\r\n\t\t\t\t\t<FormSimples value={anoCartao} nome='anoCartao' placeholder='AAAA' label='Ano' onChange={() => this.onChange('anoCartao', e)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className='form-input'>\r\n\t\t\t\t\t<label>Parcelas</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flex'>\r\n\t\t\t\t\t<select name='parcela'>\r\n\t\t\t\t\t\t<option>Selecione a quantidade de parcelas para pagamento</option>\r\n\t\t\t\t\t\t<option value='1'>1x de R$ de 105,00 sem juros</option>\r\n\t\t\t\t\t\t<option value='2'>2x de R$ de 62,50 sem juros</option>\r\n\t\t\t\t\t\t<option value='3'>3x de R$ de 35,00 sem juros</option>\r\n\t\t\t\t\t\t<option value='4'>4x de R$ de 31,75 sem juros</option>\r\n\t\t\t\t\t\t<option value='5'>5x de R$ de 21,00 sem juros</option>\r\n\t\t\t\t\t\t<option value='6'>6x de R$ de 17,50 sem juros</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst { tipoPagamentoSelecionado } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className='Dados-Pagamento-Container'>\r\n\t\t\t\t<h2>DADOS DE PAGAMENTO</h2>\r\n\t\t\t\t<br />\r\n\t\t\t\t{this.renderOpcoesPagamento()}\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t{tipoPagamentoSelecionado === 'boleto' && this.renderPagamentoComBoleto()}\r\n\t\t\t\t{tipoPagamentoSelecionado === 'cartao' && this.renderPagamentoComCartao()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n\tusuario: state.auth.usuario,\r\n\tcarrinho: state.carrinho.carrinho,\r\n\tcliente: state.cliente.cliente,\r\n\tform: state.checkout.form,\r\n\ttipoPagamentoSelecionado: state.checkout.tipoPagamentoSelecionado,\r\n\tsessionId: state.checkout.senderId,\r\n\tsenderHash: state.checkout.senderHash,\r\n\tfreteSelecionado: state.carrinho.freteSelecionado\r\n})\r\n\r\nexport default connect(mapStateToProps,actions)(DadosPagamento);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAsEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhEA;AACA;AAAA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;;;;A","sourceRoot":""}
{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.2c277dd66c2b0879cee8.hot-update.js","sources":["webpack:///./redux/actions/produtoActions.js"],"sourcesContent":["/* modulo 44 - Criando actions e reduces para integração 2/2*/\r\n\r\n/*modulo 46 - adicionando actions e reducers e alterando os componentes para integração*/\r\n\r\n/* modulo 47 -  integração -  detalhes do produto */\r\n\r\n\r\n\r\nimport axios from 'axios';\r\n\r\nimport {\r\n\tFETCH_PESQUISA,\r\n\tFETCH_PRODUTOS,\r\n\tFETCH_PRODUTOS_PESQUISA,\r\n\tFETCH_PRODUTO,\r\n\tFETCH_PRODUTO_VARIACOES,\r\n\tFETCH_PRODUTO_AVALIACOES\r\n} from '../types';\r\n\r\nimport { url, loja } from '../../config.js';\r\n\r\n/* modulo 47 - integrando o componente de avaliações 2/2 */\r\nimport { getHeaders } from './helpers';\r\n\r\n\r\nexport const fetchProdutosPaginaInicial = () => (dispatch) => {\r\n\r\n\taxios.get(`${url}/api/produtos/disponiveis?loja=${loja}&offset=${0}&limit=${8}&sortType=${\"preco-crescente\"}`)\r\n\t\t.then((response) => dispatch({ type: FETCH_PRODUTOS, payload: response.data }))\r\n\t.catch(e => console.log(e))\r\n};\r\n\r\nexport const fetchTermo = (termo) => ({ type: FETCH_PESQUISA, termo })\r\n\r\n\r\nexport const fetchProdutosPesquisa = (termo,atual=0,limit = 20) => (dispatch) => {\r\n\taxios\r\n\t\t.get(`${url}/api/produtos/search/${termo}?loja=${loja}&offset=${atual}&limit=${limit}`)\r\n\t\t.then((response) => dispatch({ type: FETCH_PRODUTOS_PESQUISA, payload: response.data , termo }))\r\n\t\t.catch((e) => console.log(e));\r\n};\r\n\r\n\r\n\r\nexport const fetchProduto = (id) =>\r\n\t(dispatch) => {\r\n\t\taxios\r\n\t\t\t.get(`${url}/api/produtos/${id}?loja=${loja}`)\r\n\t\t\t.then((response) => dispatch({ type: FETCH_PRODUTO, payload: response.data}))\r\n\t\t\t.catch((e) => console.log(e));\r\n\t};\r\n\r\n\r\nexport const fetchAvaliacoes = (id) => (dispatch) => {\r\n\taxios\r\n\t\t.get(`${url}/api/produtos/${id}/avaliacoes?loja=${loja}&id=${id}`)\r\n\t\t.then((response) => dispatch({ type: FETCH_PRODUTO_AVALIACOES, payload: response.data}))\r\n\t\t.catch((e) => console.log(e));\r\n};\t\r\n\r\nexport const fetchVariacoes = (id) => (dispatch) => {\r\n\taxios\r\n\t\t.get(`${url}/api/produtos/${id}/variacoes?loja=${loja}&id=${id}`)\r\n\t\t.then((response) => dispatch({ type: FETCH_PRODUTO_VARIACOES, payload: response.data}))\r\n\t\t.catch((e) => console.log(e));\r\n};\t\r\n\r\n/* modulo 47 - integrando o componente de avaliações 2/2 */\r\n\r\nexport const novaAvaliacao = ({ nome, token, produto, texto, pontuacao }, cb => {\r\n\t\r\n\taxios.post(\r\n\t\t`${url}/api/avaliacoes?loja=${loja}&produto=${produto}`,\r\n\t\t{\r\n\t\t\tnome,\r\n\t\t\ttexto,\r\n\t\t\tpontuacao,\r\n\t\t},\r\n\t\tgetHeaders(token)\r\n\t).then(response => {\r\n\t\tdispatch({ type: NOVA_AVALIACAO, payload: response.data });\r\n\t\tcb(null)\r\n\t})\r\n\t.catch( e => cb(e))\r\n} )\r\n\r\nexport default {\r\n\tfetchProdutosPaginaInicial,\r\n\tfetchTermo,\r\n\tfetchProdutosPesquisa,\r\n\tfetchProduto,\r\n\tfetchAvaliacoes,\r\n\tfetchVariacoes\r\n\t\r\n};"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AASA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;A","sourceRoot":""}
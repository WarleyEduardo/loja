{"version":3,"file":"static/webpack/static\\development\\pages\\carrinho.js.ecd5532dabb842223342.hot-update.js","sources":["webpack:///./redux/actions/authActions.js"],"sourcesContent":["/* modulo 40 - loja virtual - criando helper para inicialização*/\r\n\r\n/* modulo 44 - Criando actions e reduces para integração 1/2*/\r\n\r\nimport { AUTENTICAR_TOKEN, USER, AUTENTICAR } from '../types';\r\n\r\nimport axios from 'axios';\r\nimport { url } from '../../config.js';\r\n\r\n\r\n/* modulo 47 - integrando o componente de avaliações 2/2 */\r\n//const getHeaders = token => ({ headers: { \"Authorization\": `Ecommerce ${token}` } });\r\nimport { getHeaders } from './helpers';\r\n\r\n\r\n/* modulo 49  - Criando as funções e error handlign para os dados do cliente 1/2*/\r\n/* modulo 49  - Criando as funções e error handlign para os dados do cliente 2/2*/\r\n\r\nimport { setCookie } from '../../utils/cookie';\r\nimport Router from 'next/router';\r\nimport errorHandling from './errorHandling';\r\n\t\r\n\r\nexport const reauthenticate = token => ({ type: AUTENTICAR_TOKEN, payload: token})\r\n\r\nexport const getUser = ({ token }) => (dispatch) => {\r\n\t\r\n\t\r\n\taxios.get(`${url}/api/usuarios`, getHeaders(token))\r\n\t\t.then((response) => dispatch({ type: USER, payload: response.data.usuario }))\r\n\t    .catch( e => console.log(e))\r\n}\r\n\r\n/*Criando as funções e error handlign para os dados do cliente 1/2*/\r\n\r\nexport const autenticar = ({ email, password } , goTo = fase , cb) => (dispatch) => {\r\n\t\taxios\r\n\t\t\t.post(`${url}/api/usuarios/login`, { email, password})\r\n\t\t\t.then((response) => {\r\n\t\t\t\t\r\n\t\t\t\tsetCookie('token', response.data.usuario.token);\r\n\r\n\t\t\t\tif (goTo) Router.push(goTo) \r\n\r\n\t\t\t\tdispatch({ type: AUTENTICAR, payload: response.data });\r\n                dispatch(fetchCliente(response.data.usuario._id,response.data.usuario.token))  \r\n\r\n\t\t\t}\r\n\t\t).catch(\r\n\t\t\t(e) => cb(errorHandling(e))\t\t\t\r\n\t\t);\r\n\t};\r\n\r\nexport default {\r\n\treauthenticate,\r\n\tgetUser,\r\n\tautenticar\r\n};\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAGA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}
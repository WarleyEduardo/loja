{"ast":null,"code":"/* modulo 40 - loja virtual - criando helper para inicialização*/\n\n/* modulo 44 - Criando actions e reduces para integração 1/2*/\n\nimport { AUTENTICAR_TOKEN, USER } from '../types';\nimport axios from 'axios';\nimport { url } from '../../config.js';\nvar getHeaders = function getHeaders(token) {\n  return {\n    headers: {\n      \"Authorization\": \"Ecommerce \".concat(token)\n    }\n  };\n};\nexport var reauthenticate = function reauthenticate(token) {\n  return {\n    type: AUTENTICAR_TOKEN,\n    payload: token\n  };\n};\nexport var getUser = function getUser(_ref) {\n  var token = _ref.token;\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/usuarios\"), getHeaders(token)).then(function (response) {\n      return dispatch({\n        type: USER,\n        payload: response.data.usuario\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport default {\n  reauthenticate: reauthenticate,\n  getUser: getUser\n};","map":{"version":3,"names":["AUTENTICAR_TOKEN","USER","axios","url","getHeaders","token","headers","reauthenticate","type","payload","getUser","dispatch","get","then","response","data","usuario","e","console","log"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/actions/authActions.js"],"sourcesContent":["/* modulo 40 - loja virtual - criando helper para inicialização*/\r\n\r\n/* modulo 44 - Criando actions e reduces para integração 1/2*/\r\n\r\nimport { AUTENTICAR_TOKEN, USER } from '../types';\r\n\r\nimport axios from 'axios';\r\nimport { url } from '../../config.js';\r\n\r\n\r\nconst getHeaders = token => ({ headers: { \"Authorization\": `Ecommerce ${token}` } });\r\n\r\nexport const reauthenticate = token => ({ type: AUTENTICAR_TOKEN, payload: token})\r\n\r\nexport const getUser = ({ token }) => (dispatch) => {\r\n\t\r\n\t\r\n\taxios.get(`${url}/api/usuarios`, getHeaders(token))\r\n\t\t.then((response) => dispatch({ type: USER, payload: response.data.usuario }))\r\n\t    .catch( e => console.log(e))\r\n}\r\n\r\nexport default {\r\n\treauthenticate,\r\n\tgetUser\r\n};\r\n"],"mappings":"AAAA;;AAEA;;AAEA,SAASA,gBAAgB,EAAEC,IAAI,QAAQ,UAAU;AAEjD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,iBAAiB;AAGrC,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAGC,KAAK;EAAA,OAAK;IAAEC,OAAO,EAAE;MAAE,eAAe,sBAAeD,KAAK;IAAG;EAAE,CAAC;AAAA,CAAC;AAEpF,OAAO,IAAME,cAAc,GAAG,SAAjBA,cAAc,CAAGF,KAAK;EAAA,OAAK;IAAEG,IAAI,EAAER,gBAAgB;IAAES,OAAO,EAAEJ;EAAK,CAAC;AAAA,CAAC;AAElF,OAAO,IAAMK,OAAO,GAAG,SAAVA,OAAO;EAAA,IAAML,KAAK,QAALA,KAAK;EAAA,OAAO,UAACM,QAAQ,EAAK;IAGnDT,KAAK,CAACU,GAAG,WAAIT,GAAG,oBAAiBC,UAAU,CAACC,KAAK,CAAC,CAAC,CACjDQ,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKH,QAAQ,CAAC;QAAEH,IAAI,EAAEP,IAAI;QAAEQ,OAAO,EAAEK,QAAQ,CAACC,IAAI,CAACC;MAAQ,CAAC,CAAC;IAAA,EAAC,SACpE,CAAE,UAAAC,CAAC;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAAA,EAAC;EACjC,CAAC;AAAA;AAED,eAAe;EACdV,cAAc,EAAdA,cAAc;EACdG,OAAO,EAAPA;AACD,CAAC"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\n/* modulo 48 -  criando as actions e reducers necessários (2/2) */\nimport { SET_CARRINHO, CLEAN_CARRINHO, FETCH_PRODUTO_CARRINHO, FETCH_VARIACAO_CARRINHO, FETCH_VALOR_ENTREGA, UPDATE_QTD_CART, REMOVE_PRODUTO_CART, CLEAN_FRETES, UPDATE_FRETE_CART } from '../types';\nvar initialState = {\n  carrinho: null\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_CARRINHO:\n      {\n        return _objectSpread({}, state, {\n          carrinho: action.carrinho\n        });\n      }\n    case CLEAN_CARRINHO:\n      {\n        return _objectSpread({}, state, {\n          carrinho: null,\n          freteSelecionado: null,\n          fretes: null,\n          cep: null\n        });\n      }\n    case FETCH_PRODUTO_CARRINHO:\n      if (!action.payload.produto) return state;\n      return _objectSpread({}, state, {\n        carrinho: state.carrinho ? state.carrinho.map(function (item, index) {\n          return action.idxCarrinho === index ? _objectSpread({}, item, {\n            produto: action.payload.produto\n          }) : item;\n        }) : []\n      });\n    case FETCH_VARIACAO_CARRINHO:\n      if (!action.payload.variacao) return state;\n      return _objectSpread({}, state, {\n        carrinho: state.carrinho ? state.carrinho.map(function (item, index) {\n          return action.idxCarrinho === index ? _objectSpread({}, item, {\n            variacao: action.payload.variacao\n          }) : item;\n        }) : []\n      });\n    case FETCH_VALOR_ENTREGA:\n      return _objectSpread({}, state, {\n        fretes: action.payload.resultados,\n        freteSelecionado: action.payload.resultados[0],\n        cep: action.cep\n      });\n    case UPDATE_QTD_CART:\n      return _objectSpread({}, state, {\n        carrinho: state.carrinho ? state.carrinho.map(function (item, index) {\n          return action.idxCarrinho == index ? _objectSpread({}, item, {\n            quantidade: Number(item.quantidade) + Number(action.change)\n          }) : item;\n        }) : []\n      });\n    case REMOVE_PRODUTO_CART:\n      return _objectSpread({}, state, {\n        carrinho: state.carrinho.reduce(function (all, item, index) {\n          return index !== action.idxCarrinho ? all.concate([item]) : all;\n        }, [])\n      });\n    case UPDATE_FRETE_CART:\n      return _objectSpread({}, state, {\n        freteSelecionado: action.freteSelecionado\n      });\n    case CLEAN_FRETES:\n      {\n        return _objectSpread({}, state, {\n          freteSelecionado: null,\n          fretes: null,\n          cep: null\n        });\n      }\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["SET_CARRINHO","CLEAN_CARRINHO","FETCH_PRODUTO_CARRINHO","FETCH_VARIACAO_CARRINHO","FETCH_VALOR_ENTREGA","UPDATE_QTD_CART","REMOVE_PRODUTO_CART","CLEAN_FRETES","UPDATE_FRETE_CART","initialState","carrinho","state","action","type","freteSelecionado","fretes","cep","payload","produto","map","item","index","idxCarrinho","variacao","resultados","quantidade","Number","change","reduce","all","concate"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/reducers/carrinhoReducers.js"],"sourcesContent":["/* modulo 48 -  criando as actions e reducers necessários (2/2) */\r\nimport {\r\n\tSET_CARRINHO,\r\n\tCLEAN_CARRINHO,\r\n\tFETCH_PRODUTO_CARRINHO,\r\n\tFETCH_VARIACAO_CARRINHO,\r\n\tFETCH_VALOR_ENTREGA,\r\n\tUPDATE_QTD_CART,\r\n\tREMOVE_PRODUTO_CART,\r\n\tCLEAN_FRETES,\r\n\tUPDATE_FRETE_CART,\r\n} from '../types';\r\n\r\n\r\nconst initialState = { carrinho: null };\r\n\r\nexport default (state = initialState, action) => {\r\n\t\r\n\tswitch (action.type) {\r\n\t\t\r\n\t\tcase SET_CARRINHO: {\r\n\t\t\treturn {\r\n\r\n\t\t\t\t...state,\r\n\t\t\t\tcarrinho : action.carrinho\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\t\t\r\n\t\tcase CLEAN_CARRINHO: {\r\n\t\t\t\r\n\t\t\treturn {\r\n\r\n\t\t\t\t...state,\r\n\t\t\t\tcarrinho: null,\r\n\t\t\t\tfreteSelecionado: null,\r\n\t\t\t\tfretes: null,\r\n\t\t\t\tcep: null\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\t\r\n\t\tcase FETCH_PRODUTO_CARRINHO:\r\n\t\t\t\t\r\n\t\t\tif (!action.payload.produto) return state;\r\n\t\t\treturn {\r\n\r\n\t\t\t\t...state,\r\n\t\t\t\tcarrinho: state.carrinho ? state.carrinho.map((item, index) => {\r\n\t\t\t\t\treturn (action.idxCarrinho === index) ?  {...item,produto: action.payload.produto} : item \r\n\t\t\t\t}) : []\r\n\t\t\t}\r\n\t\t\r\n\t\tcase FETCH_VARIACAO_CARRINHO:\r\n\t\t\t\t\r\n\t\t\tif (!action.payload.variacao) return state;\r\n\t\t\treturn {\r\n\r\n\t\t\t\t...state,\r\n\t\t\t\tcarrinho: state.carrinho ? state.carrinho.map((item, index) => {\r\n\t\t\t\t\treturn (action.idxCarrinho === index) ?\r\n\t\t\t\t\t\t{ ...item, variacao: action.payload.variacao } : item \r\n\t\t\t\t}) : []\t\r\n\t\t\t}\r\n\t\t\r\n\t\tcase FETCH_VALOR_ENTREGA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfretes: action.payload.resultados,\r\n\t\t\t\tfreteSelecionado: action.payload.resultados[0],\r\n\t\t\t\tcep: action.cep\r\n\t\t\t}\r\n\t\t\r\n\t\tcase UPDATE_QTD_CART:\r\n\t\t\treturn {\r\n\r\n\t\t\t\t...state,\r\n\t\t\t\tcarrinho: state.carrinho ? state.carrinho.map((item, index) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn (action.idxCarrinho == index) ?\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\tquantidade: Number(item.quantidade) +  Number(action.change)\r\n\t\t\t\t\t\t} : item\r\n\t\t\t\t} ) : []\r\n\t\t\t}\r\n\t\t\r\n\t\tcase REMOVE_PRODUTO_CART:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcarrinho: state.carrinho.reduce((all, item, index) =>\r\n\t\t\t\t\tindex !== action.idxCarrinho ? all.concate([item]) : all \r\n\t\t\t\t\t\r\n\t\t\t\t, [])\r\n\t\t\t}\r\n\t\t\r\n\t\tcase UPDATE_FRETE_CART: return {\r\n\r\n\t\t\t...state,\r\n\t\t\tfreteSelecionado: action.freteSelecionado\r\n\t\t}\r\n\r\n\t\tcase CLEAN_FRETES: {\r\n\t\t\t\r\n\t\t\treturn {\r\n\r\n\t\t\t\t...state,\r\n\t\t\t\tfreteSelecionado: null,\r\n\t\t\t\tfretes: null,\r\n\t\t\t\tcep: null\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tdefault: return state;\t\r\n\t}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\javaScript\\\\lojavirtual\\\\lojavirtual\\\\containers\\\\AreaDoCliente\\\\AlterarSenha\\\\FormularioSenha.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n/* modulo 43 - Area do cliente -  dados do cliente e senha - \r\n  criando  a pagina, componentes e todos o estilo final 2/3\r\n*/\n\nimport React, { Component } from 'react';\nimport FormSimples from '../../../components/Inputs/FormSimples';\nimport TextoDados from '../../../components/Texto/Dados';\nimport { ESTADOS } from '../../../utils';\n\n/* modulo 51 - alterar senha - realizando a integração*/\n\nimport actions from '../../../redux/actions';\nimport { connect } from 'react-redux';\nimport AlertGeral from '../../../components/Alert/Geral';\nvar FormularioSenha = /*#__PURE__*/function (_Component) {\n  _inherits(FormularioSenha, _Component);\n  var _super = _createSuper(FormularioSenha);\n  function FormularioSenha() {\n    var _this;\n    _classCallCheck(this, FormularioSenha);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      senhaAntiga: '',\n      novaSenha: '',\n      confirmarNovaSenha: '',\n      aviso: null,\n      erros: {}\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (field, value) {\n      return _this.setState(_defineProperty({}, field, value), function () {\n        return _this.validate();\n      });\n    });\n    return _this;\n  }\n  _createClass(FormularioSenha, [{\n    key: \"validate\",\n    value: function validate() {\n      var _this$state = this.state,\n        senhaAntiga = _this$state.senhaAntiga,\n        novaSenha = _this$state.novaSenha,\n        confirmarNovaSenha = _this$state.confirmarNovaSenha;\n      var erros = {};\n      if (!senhaAntiga) erros.senhaAntiga = \"Preencha aqui com sua senha atual\";\n      if (!novaSenha) erros.novaSenha = 'Preencha aqui com sua nova senha';\n      if (!confirmarNovaSenha) erros.confirmarNovaSenha = 'Preencha aqui novamente com sua nova senha';\n      if (novaSenha !== confirmarNovaSenha) erros.confirmarNovaSenha = 'as senhas digitadas não coincidem';\n      this.setState({\n        erros: erros,\n        aviso: null\n      });\n      return _Object$keys(erros).length === 0;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var _this2 = this;\n      var token = this.props.token;\n      if (!token || !this.validate()) return null;\n      this.props.updateSenha(this.state, token, function (error) {\n        if (error) _this2.setState({\n          aviso: {\n            status: false,\n            message: error.message\n          }\n        });else {\n          alert('Senha atualizada com sucesso!');\n          _this2.setState({\n            senhaAntiga: '',\n            novaSenha: '',\n            confirmarNovaSenha: ''\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$state2 = this.state,\n        senhaAntiga = _this$state2.senhaAntiga,\n        novaSenha = _this$state2.novaSenha,\n        confirmarNovaSenha = _this$state2.confirmarNovaSenha,\n        erros = _this$state2.erros;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-4 conteudo-area-cliente\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }\n      }, \"ALTERAR SENHA\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-dados\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(FormSimples, {\n        erro: erros.senhaAntiga,\n        onChange: function onChange(e) {\n          return _this3.onChange('senhaAntiga', e.target.value);\n        },\n        value: senhaAntiga,\n        name: \"senhaAntiga\",\n        type: \"password\",\n        label: \"Senha Atual\",\n        placeholder: \"Senha Antiga\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(FormSimples, {\n        erro: erros.novaSenha,\n        onChange: function onChange(e) {\n          return _this3.onChange('novaSenha', e.target.value);\n        },\n        value: novaSenha,\n        name: \"novaSenha\",\n        type: \"password\",\n        label: \"Nova Senha\",\n        placeholder: \"Nova Senha\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(FormSimples, {\n        erro: erros.confirmarNovaSenha,\n        onChange: function onChange(e) {\n          return _this3.onChange('confirmarNovaSenha', e.target.value);\n        },\n        value: confirmarNovaSenha,\n        name: \"confirmarNovaSenha\",\n        type: \"password\",\n        label: \"Confirmar Nova Senha\",\n        placeholder: \"Confirmar nova senha \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(AlertGeral, {\n        aviso: this.state.aviso,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return _this3.handleSubmit();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 6\n        }\n      }, \"SALVAR\")));\n    }\n  }]);\n  return FormularioSenha;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    usuario: state.auth.usuario,\n    token: state.auth.token,\n    cliente: state.cliente.cliente\n  };\n};\nexport default connect(mapStateToProps, actions)(FormularioSenha);","map":{"version":3,"names":["React","Component","FormSimples","TextoDados","ESTADOS","actions","connect","AlertGeral","FormularioSenha","senhaAntiga","novaSenha","confirmarNovaSenha","aviso","erros","field","value","setState","validate","state","length","token","props","updateSenha","error","status","message","alert","e","onChange","target","handleSubmit","mapStateToProps","usuario","auth","cliente"],"sources":["D:/javaScript/lojavirtual/lojavirtual/containers/AreaDoCliente/AlterarSenha/FormularioSenha.js"],"sourcesContent":["/* modulo 43 - Area do cliente -  dados do cliente e senha - \r\n  criando  a pagina, componentes e todos o estilo final 2/3\r\n*/\r\n\r\nimport React, { Component } from 'react';\r\n\r\nimport FormSimples from '../../../components/Inputs/FormSimples';\r\nimport TextoDados from '../../../components/Texto/Dados';\r\n\r\nimport { ESTADOS } from '../../../utils';\r\n\r\n/* modulo 51 - alterar senha - realizando a integração*/\r\n\r\nimport actions from '../../../redux/actions';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport AlertGeral from '../../../components/Alert/Geral';\r\n\r\nclass FormularioSenha extends Component {\r\n\tstate = {\r\n\t\tsenhaAntiga: '',\r\n\t\tnovaSenha: '',\r\n\t\tconfirmarNovaSenha: '',\r\n\t\taviso: null,\r\n\t\terros: {},\r\n\t};\r\n\r\n\tvalidate() {\r\n\t\t\r\n\t\tconst { senhaAntiga, novaSenha, confirmarNovaSenha } = this.state;\r\n\t\tconst erros = {};\r\n\r\n\t\tif (!senhaAntiga) erros.senhaAntiga = \"Preencha aqui com sua senha atual\";\r\n\t\tif (!novaSenha) erros.novaSenha = 'Preencha aqui com sua nova senha';\r\n\t\tif (!confirmarNovaSenha) erros.confirmarNovaSenha = 'Preencha aqui novamente com sua nova senha';\r\n\r\n\t\tif (novaSenha !== confirmarNovaSenha) erros.confirmarNovaSenha = 'as senhas digitadas não coincidem';\r\n\r\n\t\tthis.setState({ erros, aviso: null });\r\n\t\treturn (Object.keys(erros).length === 0);\r\n\t};\r\n\r\n\tonChange = (field, value) => this.setState({ [field]: value},()=> this.validate())\r\n\r\n\thandleSubmit() {\r\n\t\tconst { token } = this.props;\r\n\t\tif (!token || !this.validate()) return null;\r\n\t\tthis.props.updateSenha(this.state, token, (error) => {\r\n\t\t\tif (error) this.setState({ aviso: { status: false, message: error.message } });\r\n\t\t\telse {\r\n\t\t\t\talert('Senha atualizada com sucesso!');\r\n\t\t\t\tthis.setState({ senhaAntiga: '', novaSenha: '', confirmarNovaSenha: '' });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { senhaAntiga, novaSenha, confirmarNovaSenha , erros} = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='flex-4 conteudo-area-cliente'>\r\n\t\t\t\t<h2>ALTERAR SENHA</h2>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className='form-dados'>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\terro={erros.senhaAntiga}\r\n\t\t\t\t\t\tonChange={(e) => this.onChange('senhaAntiga', e.target.value)}\r\n\t\t\t\t\t\tvalue={senhaAntiga}\r\n\t\t\t\t\t\tname='senhaAntiga'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tlabel='Senha Atual'\r\n\t\t\t\t\t\tplaceholder='Senha Antiga'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\terro={erros.novaSenha}\r\n\t\t\t\t\t\tonChange={(e) => this.onChange('novaSenha', e.target.value)}\r\n\t\t\t\t\t\tvalue={novaSenha}\r\n\t\t\t\t\t\tname='novaSenha'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tlabel='Nova Senha'\r\n\t\t\t\t\t\tplaceholder='Nova Senha'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormSimples\r\n\t\t\t\t\t\terro={erros.confirmarNovaSenha}\r\n\t\t\t\t\t\tonChange={(e) => this.onChange('confirmarNovaSenha', e.target.value)}\r\n\t\t\t\t\t\tvalue={confirmarNovaSenha}\r\n\t\t\t\t\t\tname='confirmarNovaSenha'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tlabel='Confirmar Nova Senha'\r\n\t\t\t\t\t\tplaceholder='Confirmar nova senha '\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<AlertGeral aviso={this.state.aviso} />\r\n\t\t\t\t<div className='flex flex-start'>\r\n\t\t\t\t\t<button className='btn btn-primary' onClick={() => this.handleSubmit()}>\r\n\t\t\t\t\t\tSALVAR\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n\tusuario: state.auth.usuario,\r\n\ttoken: state.auth.token,\r\n\tcliente: state.cliente.cliente\r\n})\r\n\r\nexport default connect(mapStateToProps,actions)(FormularioSenha);\r\n"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,OAAOC,WAAW,MAAM,wCAAwC;AAChE,OAAOC,UAAU,MAAM,iCAAiC;AAExD,SAASC,OAAO,QAAQ,gBAAgB;;AAExC;;AAEA,OAAOC,OAAO,MAAM,wBAAwB;AAE5C,SAASC,OAAO,QAAQ,aAAa;AAErC,OAAOC,UAAU,MAAM,iCAAiC;AAAC,IAEnDC,eAAe;EAAA;EAAA;EAAA;IAAA;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA,wDACZ;MACPC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,kBAAkB,EAAE,EAAE;MACtBC,KAAK,EAAE,IAAI;MACXC,KAAK,EAAE,CAAC;IACT,CAAC;IAAA,2DAiBU,UAACC,KAAK,EAAEC,KAAK;MAAA,OAAK,MAAKC,QAAQ,qBAAIF,KAAK,EAAGC,KAAK,GAAE;QAAA,OAAK,MAAKE,QAAQ,EAAE;MAAA,EAAC;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OAflF,oBAAW;MAEV,kBAAuD,IAAI,CAACC,KAAK;QAAzDT,WAAW,eAAXA,WAAW;QAAEC,SAAS,eAATA,SAAS;QAAEC,kBAAkB,eAAlBA,kBAAkB;MAClD,IAAME,KAAK,GAAG,CAAC,CAAC;MAEhB,IAAI,CAACJ,WAAW,EAAEI,KAAK,CAACJ,WAAW,GAAG,mCAAmC;MACzE,IAAI,CAACC,SAAS,EAAEG,KAAK,CAACH,SAAS,GAAG,kCAAkC;MACpE,IAAI,CAACC,kBAAkB,EAAEE,KAAK,CAACF,kBAAkB,GAAG,4CAA4C;MAEhG,IAAID,SAAS,KAAKC,kBAAkB,EAAEE,KAAK,CAACF,kBAAkB,GAAG,mCAAmC;MAEpG,IAAI,CAACK,QAAQ,CAAC;QAAEH,KAAK,EAALA,KAAK;QAAED,KAAK,EAAE;MAAK,CAAC,CAAC;MACrC,OAAQ,aAAYC,KAAK,CAAC,CAACM,MAAM,KAAK,CAAC;IACxC;EAAC;IAAA;IAAA,OAID,wBAAe;MAAA;MACd,IAAQC,KAAK,GAAK,IAAI,CAACC,KAAK,CAApBD,KAAK;MACb,IAAI,CAACA,KAAK,IAAI,CAAC,IAAI,CAACH,QAAQ,EAAE,EAAE,OAAO,IAAI;MAC3C,IAAI,CAACI,KAAK,CAACC,WAAW,CAAC,IAAI,CAACJ,KAAK,EAAEE,KAAK,EAAE,UAACG,KAAK,EAAK;QACpD,IAAIA,KAAK,EAAE,MAAI,CAACP,QAAQ,CAAC;UAAEJ,KAAK,EAAE;YAAEY,MAAM,EAAE,KAAK;YAAEC,OAAO,EAAEF,KAAK,CAACE;UAAQ;QAAE,CAAC,CAAC,CAAC,KAC1E;UACJC,KAAK,CAAC,+BAA+B,CAAC;UACtC,MAAI,CAACV,QAAQ,CAAC;YAAEP,WAAW,EAAE,EAAE;YAAEC,SAAS,EAAE,EAAE;YAAEC,kBAAkB,EAAE;UAAG,CAAC,CAAC;QAC1E;MACD,CAAC,CAAC;IACH;EAAC;IAAA;IAAA,OAED,kBAAS;MAAA;MACR,mBAA8D,IAAI,CAACO,KAAK;QAAhET,WAAW,gBAAXA,WAAW;QAAEC,SAAS,gBAATA,SAAS;QAAEC,kBAAkB,gBAAlBA,kBAAkB;QAAGE,KAAK,gBAALA,KAAK;MAE1D,oBACC;QAAK,SAAS,EAAC,8BAA8B;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC5C;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,mBAAsB,eACtB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAM,eACN;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAM,eACN;QAAK,SAAS,EAAC,YAAY;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC1B;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAM,eACN,oBAAC,WAAW;QACX,IAAI,EAAEA,KAAK,CAACJ,WAAY;QACxB,QAAQ,EAAE,kBAACkB,CAAC;UAAA,OAAK,MAAI,CAACC,QAAQ,CAAC,aAAa,EAAED,CAAC,CAACE,MAAM,CAACd,KAAK,CAAC;QAAA,CAAC;QAC9D,KAAK,EAAEN,WAAY;QACnB,IAAI,EAAC,aAAa;QAClB,IAAI,EAAC,UAAU;QACf,KAAK,EAAC,aAAa;QACnB,WAAW,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACzB,eACF,oBAAC,WAAW;QACX,IAAI,EAAEI,KAAK,CAACH,SAAU;QACtB,QAAQ,EAAE,kBAACiB,CAAC;UAAA,OAAK,MAAI,CAACC,QAAQ,CAAC,WAAW,EAAED,CAAC,CAACE,MAAM,CAACd,KAAK,CAAC;QAAA,CAAC;QAC5D,KAAK,EAAEL,SAAU;QACjB,IAAI,EAAC,WAAW;QAChB,IAAI,EAAC,UAAU;QACf,KAAK,EAAC,YAAY;QAClB,WAAW,EAAC,YAAY;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACvB,eACF,oBAAC,WAAW;QACX,IAAI,EAAEG,KAAK,CAACF,kBAAmB;QAC/B,QAAQ,EAAE,kBAACgB,CAAC;UAAA,OAAK,MAAI,CAACC,QAAQ,CAAC,oBAAoB,EAAED,CAAC,CAACE,MAAM,CAACd,KAAK,CAAC;QAAA,CAAC;QACrE,KAAK,EAAEJ,kBAAmB;QAC1B,IAAI,EAAC,oBAAoB;QACzB,IAAI,EAAC,UAAU;QACf,KAAK,EAAC,sBAAsB;QAC5B,WAAW,EAAC,uBAAuB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAClC,CACG,eACN;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAM,eAEN,oBAAC,UAAU;QAAC,KAAK,EAAE,IAAI,CAACO,KAAK,CAACN,KAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG,eACvC;QAAK,SAAS,EAAC,iBAAiB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC/B;QAAQ,SAAS,EAAC,iBAAiB;QAAC,OAAO,EAAE;UAAA,OAAM,MAAI,CAACkB,YAAY,EAAE;QAAA,CAAC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,YAE9D,CACJ,CACD;IAER;EAAC;EAAA;AAAA,EAtF4B7B,SAAS;AAyFvC,IAAM8B,eAAe,GAAG,SAAlBA,eAAe,CAAGb,KAAK;EAAA,OAAK;IAEjCc,OAAO,EAAEd,KAAK,CAACe,IAAI,CAACD,OAAO;IAC3BZ,KAAK,EAAEF,KAAK,CAACe,IAAI,CAACb,KAAK;IACvBc,OAAO,EAAEhB,KAAK,CAACgB,OAAO,CAACA;EACxB,CAAC;AAAA,CAAC;AAEF,eAAe5B,OAAO,CAACyB,eAAe,EAAC1B,OAAO,CAAC,CAACG,eAAe,CAAC"},"metadata":{},"sourceType":"module"}
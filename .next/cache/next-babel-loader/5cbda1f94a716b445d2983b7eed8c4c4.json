{"ast":null,"code":"/*modulo 49 - Criando as funções e error handlign para os dados do cliente 2/2*/\nimport { FETCH_CLIENTE } from '../types';\nimport axios from 'axios';\nimport { url, loja } from '../../config.js';\nimport { getHeaders } from './helpers';\n\n/*modulo 49 - Dados de entrega - criando funções e preparando a base */\n\nimport { autenticar } from './authActions';\nexport var newCliente = function newCliente(form, cb) {\n  return function (dispatch) {\n    axios.post(\"\".concat(url, \"/api/clientes?loja=\").concat(loja), {\n      nome: form.nome,\n      paswword: form.senha,\n      cpf: form.cpf,\n      email: form.email,\n      telefones: [form.telefone],\n      endereco: {\n        local: form.local,\n        numero: form.numero,\n        complemento: form.complemento,\n        bairro: form.bairro,\n        cidade: form.cidade,\n        estado: form.estado,\n        CEP: form.CEP\n      }\n    }).then(function (response) {\n      dispatch({\n        type: FETCH_CLIENTE,\n        payload: response.data\n      });\n      dispatch(autenticar({\n        email: form.email,\n        password: form.senha\n      }));\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchCliente = function fetchCliente(id, token) {\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/clientes/\").concat(id, \"?loja=\").concat(loja), getHeaders(token)).then(function (response) {\n      dispatch({\n        type: FETCH_CLIENTE,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport default {\n  fetchCliente: fetchCliente\n};","map":{"version":3,"names":["FETCH_CLIENTE","axios","url","loja","getHeaders","autenticar","newCliente","form","cb","dispatch","post","nome","paswword","senha","cpf","email","telefones","telefone","endereco","local","numero","complemento","bairro","cidade","estado","CEP","then","response","type","payload","data","password","e","console","log","fetchCliente","id","token","get"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/actions/clienteActions.js"],"sourcesContent":["/*modulo 49 - Criando as funções e error handlign para os dados do cliente 2/2*/\r\nimport { FETCH_CLIENTE} from '../types';\r\n\r\nimport axios from 'axios';\r\nimport { url , loja} from '../../config.js';\r\nimport { getHeaders } from './helpers';\r\n\r\n/*modulo 49 - Dados de entrega - criando funções e preparando a base */\r\n\r\nimport { autenticar } from './authActions';\r\n\r\n\r\n\r\nexport const newCliente = (form, cb) => dispatch => {\r\n\t\r\n\taxios.post(`${url}/api/clientes?loja=${loja}`, {\r\n\t\t\r\n\t\tnome: form.nome,\r\n\t\tpaswword: form.senha,\r\n\t\tcpf: form.cpf,\r\n\t\temail: form.email,\r\n\t\ttelefones: [form.telefone],\r\n\t\tendereco: {\r\n\t\t\tlocal: form.local,\r\n\t\t\tnumero: form.numero,\r\n\t\t\tcomplemento: form.complemento,\r\n\t\t\tbairro: form.bairro,\r\n\t\t\tcidade: form.cidade,\r\n\t\t\testado: form.estado,\r\n\t\t\tCEP : form.CEP\r\n\t\t\t\r\n\t\t}\r\n\t  }\r\n\t).then(\r\n\t\t(response) => {\r\n\t\t\tdispatch({ type: FETCH_CLIENTE, payload: response.data })\r\n\t\t\tdispatch(autenticar({email: form.email, password: form.senha}))\r\n\t\t}\r\n\t).catch( e => console.log(e))\r\n}\r\n\r\n\r\nexport const fetchCliente = (id, token) => dispatch => {\r\n\t\r\n\taxios.get(`${url}/api/clientes/${id}?loja=${loja}`, getHeaders(token))\r\n\t.then((response) => {\r\n\t  \r\n\t\tdispatch({type: FETCH_CLIENTE, payload : response.data})\r\n\r\n\t}).catch( e => console.log(e))\r\n};\r\n\r\nexport default { fetchCliente };"],"mappings":"AAAA;AACA,SAASA,aAAa,QAAO,UAAU;AAEvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAGC,IAAI,QAAO,iBAAiB;AAC3C,SAASC,UAAU,QAAQ,WAAW;;AAEtC;;AAEA,SAASC,UAAU,QAAQ,eAAe;AAI1C,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,IAAI,EAAEC,EAAE;EAAA,OAAK,UAAAC,QAAQ,EAAI;IAEnDR,KAAK,CAACS,IAAI,WAAIR,GAAG,gCAAsBC,IAAI,GAAI;MAE9CQ,IAAI,EAAEJ,IAAI,CAACI,IAAI;MACfC,QAAQ,EAAEL,IAAI,CAACM,KAAK;MACpBC,GAAG,EAAEP,IAAI,CAACO,GAAG;MACbC,KAAK,EAAER,IAAI,CAACQ,KAAK;MACjBC,SAAS,EAAE,CAACT,IAAI,CAACU,QAAQ,CAAC;MAC1BC,QAAQ,EAAE;QACTC,KAAK,EAAEZ,IAAI,CAACY,KAAK;QACjBC,MAAM,EAAEb,IAAI,CAACa,MAAM;QACnBC,WAAW,EAAEd,IAAI,CAACc,WAAW;QAC7BC,MAAM,EAAEf,IAAI,CAACe,MAAM;QACnBC,MAAM,EAAEhB,IAAI,CAACgB,MAAM;QACnBC,MAAM,EAAEjB,IAAI,CAACiB,MAAM;QACnBC,GAAG,EAAGlB,IAAI,CAACkB;MAEZ;IACC,CAAC,CACF,CAACC,IAAI,CACL,UAACC,QAAQ,EAAK;MACblB,QAAQ,CAAC;QAAEmB,IAAI,EAAE5B,aAAa;QAAE6B,OAAO,EAAEF,QAAQ,CAACG;MAAK,CAAC,CAAC;MACzDrB,QAAQ,CAACJ,UAAU,CAAC;QAACU,KAAK,EAAER,IAAI,CAACQ,KAAK;QAAEgB,QAAQ,EAAExB,IAAI,CAACM;MAAK,CAAC,CAAC,CAAC;IAChE,CAAC,CACD,SAAM,CAAE,UAAAmB,CAAC;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAAA,EAAC;EAC9B,CAAC;AAAA;AAGD,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAY,CAAIC,EAAE,EAAEC,KAAK;EAAA,OAAK,UAAA5B,QAAQ,EAAI;IAEtDR,KAAK,CAACqC,GAAG,WAAIpC,GAAG,2BAAiBkC,EAAE,mBAASjC,IAAI,GAAIC,UAAU,CAACiC,KAAK,CAAC,CAAC,CACrEX,IAAI,CAAC,UAACC,QAAQ,EAAK;MAEnBlB,QAAQ,CAAC;QAACmB,IAAI,EAAE5B,aAAa;QAAE6B,OAAO,EAAGF,QAAQ,CAACG;MAAI,CAAC,CAAC;IAEzD,CAAC,CAAC,SAAM,CAAE,UAAAE,CAAC;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAAA,EAAC;EAC/B,CAAC;AAAA;AAED,eAAe;EAAEG,YAAY,EAAZA;AAAa,CAAC"},"metadata":{},"sourceType":"module"}
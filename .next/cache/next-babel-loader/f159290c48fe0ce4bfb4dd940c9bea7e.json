{"ast":null,"code":"/* modulo 48 -  criando as actions e reducers necess치rios (1/2) */\n\n/* modulo 48 -  criando as actions e reducers necess치rios (2/2) */\nimport axios from 'axios';\nimport { url, loja } from '../../config.js';\nimport { getCart, removeCart, cleanCart } from '../../utils/cart';\nimport { SET_CARRINHO, CLEAN_CARRINHO, FETCH_PRODUTO_CARRINHO, FETCH_VARIACAO_CARRINHO, FETCH_VALOR_ENTREGA, UPDATE_QTD_CART, REMOVE_PRODUTO_CART, CLEAN_FRETES, UPDATE_FRETE_CART } from '../types';\nexport var setCarrinho = function setCarrinho() {\n  return {\n    type: SET_CARRINHO,\n    carrinho: getCart()\n  };\n};\nexport var cleanCarrinho = function cleanCarrinho() {\n  cleanCart();\n  return {\n    type: CLEAN_CARRINHO\n  };\n};\nexport var fetchProdutoCarrinho = function fetchProdutoCarrinho(id, idxCarrinho) {\n  return function (dispatch) {\n    console.log('entrou no fetchprodutocarrinho');\n    axios.get(\"\".concat(url, \"/api/produtos/\").concat(id, \"?loja=\").concat(loja)).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTO_CARRINHO,\n        payload: response.data,\n        idxCarrinho: idxCarrinho\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchVariacoesCarrinho = function fetchVariacoesCarrinho(id, produto, idxCarrinho) {\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/variacoes/\").concat(id, \"?produto=\").concat(produto, \"&loja=\").concat(loja)).then(function (response) {\n      return dispatch({\n        type: FETCH_VARIACAO_CARRINHO,\n        payload: response.data,\n        idxCarrinho: idxCarrinho\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var calcularFrete = function calcularFrete(cep, carrinho) {\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/entregas/calcular\"), {\n      cep: cep,\n      carrinho: carrinho\n    }).then(function (response) {\n      return dispatch({\n        type: FETCH_VALOR_ENTREGA,\n        payload: response.data,\n        cep: cep\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var removerProduto = function removerProduto(index) {\n  removeCart(index);\n  return {\n    type: REMOVE_PRODUTO_CART,\n    idxCarrinho: index\n  };\n};\nexport var updateQuantidade = function updateQuantidade(change, index) {\n  return {\n    type: UPDATE_QTD_CART,\n    change: change,\n    idxCarrinho: index\n  };\n};\nexport var selecionarFrete = function selecionarFrete(freteSelecionado) {\n  return {\n    type: UPDATE_FRETE_CART,\n    freteSelecionado: freteSelecionado\n  };\n};\nexport var cleanFretes = function cleanFretes() {\n  return {\n    type: CLEAN_FRETES\n  };\n};\nexport default {\n  setCarrinho: setCarrinho,\n  cleanCarrinho: cleanCarrinho,\n  fetchProdutoCarrinho: fetchProdutoCarrinho,\n  fetchVariacoesCarrinho: fetchVariacoesCarrinho,\n  calcularFrete: calcularFrete,\n  updateQuantidade: updateQuantidade,\n  selecionarFrete: selecionarFrete,\n  removerProduto: removerProduto,\n  cleanFretes: cleanFretes\n};","map":{"version":3,"names":["axios","url","loja","getCart","removeCart","cleanCart","SET_CARRINHO","CLEAN_CARRINHO","FETCH_PRODUTO_CARRINHO","FETCH_VARIACAO_CARRINHO","FETCH_VALOR_ENTREGA","UPDATE_QTD_CART","REMOVE_PRODUTO_CART","CLEAN_FRETES","UPDATE_FRETE_CART","setCarrinho","type","carrinho","cleanCarrinho","fetchProdutoCarrinho","id","idxCarrinho","dispatch","console","log","get","then","response","payload","data","e","fetchVariacoesCarrinho","produto","calcularFrete","cep","removerProduto","index","updateQuantidade","change","selecionarFrete","freteSelecionado","cleanFretes"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/actions/carrinhoActions.js"],"sourcesContent":["/* modulo 48 -  criando as actions e reducers necess치rios (1/2) */\r\n\r\n/* modulo 48 -  criando as actions e reducers necess치rios (2/2) */\r\nimport axios from 'axios';\r\nimport { url, loja } from '../../config.js';\r\nimport { getCart, removeCart, cleanCart } from '../../utils/cart';\r\nimport {\r\n\tSET_CARRINHO,\r\n\tCLEAN_CARRINHO,\r\n\tFETCH_PRODUTO_CARRINHO,\r\n\tFETCH_VARIACAO_CARRINHO,\r\n\tFETCH_VALOR_ENTREGA,\r\n\tUPDATE_QTD_CART,\r\n\tREMOVE_PRODUTO_CART,\r\n\tCLEAN_FRETES,\r\n\tUPDATE_FRETE_CART\r\n} from '../types';\r\n\r\n\r\nexport const setCarrinho = () => ({ type: SET_CARRINHO, carrinho: getCart() });\r\n\r\nexport const cleanCarrinho = () => {\r\n\tcleanCart();\r\n\treturn {type: CLEAN_CARRINHO}\r\n};\r\n\r\nexport const fetchProdutoCarrinho = (id, idxCarrinho) => dispatch => {\r\n\r\n\tconsole.log('entrou no fetchprodutocarrinho')\r\n\t\r\n\taxios.get(`${url}/api/produtos/${id}?loja=${loja}`)\r\n\t\t.then(response => dispatch({\r\n\t\t\r\n\t\t\ttype: FETCH_PRODUTO_CARRINHO,\r\n\t\t\tpayload: response.data,\r\n\t\t\tidxCarrinho\r\n\t\t}))\r\n\t\t.catch( e => console.log(e));\r\n};\r\n\r\nexport const fetchVariacoesCarrinho = (id,produto,idxCarrinho) => (dispatch) => {\r\n\taxios\r\n\t\t.get(`${url}/api/variacoes/${id}?produto=${produto}&loja=${loja}`)\r\n\t\t.then((response) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: FETCH_VARIACAO_CARRINHO,\r\n\t\t\t\tpayload: response.data,\r\n\t\t\t\tidxCarrinho\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((e) => console.log(e));\r\n};\r\n\r\nexport const calcularFrete = (cep,carrinho) => (dispatch) => {\r\n\taxios\r\n\t\t.get(`${url}/api/entregas/calcular`,{cep, carrinho})\r\n\t\t.then((response) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: FETCH_VALOR_ENTREGA,\r\n\t\t\t\tpayload: response.data,\r\n\t\t\t\tcep\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((e) => console.log(e));\r\n};\r\n\r\n\r\nexport const removerProduto = (index) => {\r\n\tremoveCart(index);\r\n\treturn {type : REMOVE_PRODUTO_CART, idxCarrinho : index}\r\n}\r\n\r\nexport const updateQuantidade = (change, index) => ({\r\n\r\n\ttype: UPDATE_QTD_CART,\r\n\tchange,\r\n\tidxCarrinho : index\r\n});\r\n\r\nexport const selecionarFrete = (freteSelecionado) => ({\r\n\r\n\ttype: UPDATE_FRETE_CART,\r\n\tfreteSelecionado\r\n});\r\n\r\nexport const cleanFretes = () => ({\r\n\ttype: CLEAN_FRETES\r\n});\r\n\r\n\r\nexport default {\r\n\r\n\tsetCarrinho,\r\n\tcleanCarrinho,\r\n\tfetchProdutoCarrinho,\r\n\tfetchVariacoesCarrinho,\r\n\tcalcularFrete,\r\n\tupdateQuantidade,\r\n\tselecionarFrete,\r\n\tremoverProduto,\r\n\tcleanFretes\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\nvar _Reflect$construct = require(\"@babel/runtime-corejs2/core-js/reflect/construct\");\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/toConsumableArray\"));\nvar _set = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/set\"));\nvar _defineProperty = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/define-property\"));\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n(0, _defineProperty[\"default\"])(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nvar isServer = typeof window === 'undefined';\nexports[\"default\"] = function () {\n  var mountedInstances = new _set[\"default\"]();\n  var state;\n  function emitChange(component) {\n    state = component.props.reduceComponentsToState((0, _toConsumableArray2[\"default\"])(mountedInstances), component.props);\n    if (component.props.handleStateChange) {\n      component.props.handleStateChange(state);\n    }\n  }\n  return /*#__PURE__*/function (_react_1$Component) {\n    (0, _inherits2[\"default\"])(_class, _react_1$Component);\n    var _super = _createSuper(_class);\n    function _class(props) {\n      var _this;\n      (0, _classCallCheck2[\"default\"])(this, _class);\n      _this = _super.call(this, props);\n      if (isServer) {\n        mountedInstances.add((0, _assertThisInitialized2[\"default\"])(_this));\n        emitChange((0, _assertThisInitialized2[\"default\"])(_this));\n      }\n      return _this;\n    }\n    (0, _createClass2[\"default\"])(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        mountedInstances.add(this);\n        emitChange(this);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        emitChange(this);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        mountedInstances[\"delete\"](this);\n        emitChange(this);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return null;\n      }\n    }], [{\n      key: \"rewind\",\n      value:\n      // Used when server rendering\n      function rewind() {\n        var recordedState = state;\n        state = undefined;\n        mountedInstances.clear();\n        return recordedState;\n      }\n    }]);\n    return _class;\n  }(react_1.Component);\n};","map":{"version":3,"names":["exports","value","react_1","require","isServer","window","mountedInstances","state","emitChange","component","props","reduceComponentsToState","handleStateChange","add","recordedState","undefined","clear","Component"],"sources":["D:/javaScript/lojavirtual/lojavirtual/node_modules/next-server/dist/lib/side-effect.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst isServer = typeof window === 'undefined';\nexports.default = () => {\n    const mountedInstances = new Set();\n    let state;\n    function emitChange(component) {\n        state = component.props.reduceComponentsToState([...mountedInstances], component.props);\n        if (component.props.handleStateChange) {\n            component.props.handleStateChange(state);\n        }\n    }\n    return class extends react_1.Component {\n        // Used when server rendering\n        static rewind() {\n            const recordedState = state;\n            state = undefined;\n            mountedInstances.clear();\n            return recordedState;\n        }\n        constructor(props) {\n            super(props);\n            if (isServer) {\n                mountedInstances.add(this);\n                emitChange(this);\n            }\n        }\n        componentDidMount() {\n            mountedInstances.add(this);\n            emitChange(this);\n        }\n        componentDidUpdate() {\n            emitChange(this);\n        }\n        componentWillUnmount() {\n            mountedInstances.delete(this);\n            emitChange(this);\n        }\n        render() {\n            return null;\n        }\n    };\n};\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,gCAAsBA,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,IAAMC,QAAQ,GAAG,OAAOC,MAAM,KAAK,WAAW;AAC9CL,OAAO,WAAQ,GAAG,YAAM;EACpB,IAAMM,gBAAgB,GAAG,qBAAS;EAClC,IAAIC,KAAK;EACT,SAASC,UAAU,CAACC,SAAS,EAAE;IAC3BF,KAAK,GAAGE,SAAS,CAACC,KAAK,CAACC,uBAAuB,qCAAKL,gBAAgB,GAAGG,SAAS,CAACC,KAAK,CAAC;IACvF,IAAID,SAAS,CAACC,KAAK,CAACE,iBAAiB,EAAE;MACnCH,SAAS,CAACC,KAAK,CAACE,iBAAiB,CAACL,KAAK,CAAC;IAC5C;EACJ;EACA;IAAA;IAAA;IAQI,gBAAYG,KAAK,EAAE;MAAA;MAAA;MACf,0BAAMA,KAAK;MACX,IAAIN,QAAQ,EAAE;QACVE,gBAAgB,CAACO,GAAG,gDAAM;QAC1BL,UAAU,gDAAM;MACpB;MAAC;IACL;IAAC;MAAA;MAAA,OACD,6BAAoB;QAChBF,gBAAgB,CAACO,GAAG,CAAC,IAAI,CAAC;QAC1BL,UAAU,CAAC,IAAI,CAAC;MACpB;IAAC;MAAA;MAAA,OACD,8BAAqB;QACjBA,UAAU,CAAC,IAAI,CAAC;MACpB;IAAC;MAAA;MAAA,OACD,gCAAuB;QACnBF,gBAAgB,UAAO,CAAC,IAAI,CAAC;QAC7BE,UAAU,CAAC,IAAI,CAAC;MACpB;IAAC;MAAA;MAAA,OACD,kBAAS;QACL,OAAO,IAAI;MACf;IAAC;MAAA;MAAA;MA3BD;MACA,kBAAgB;QACZ,IAAMM,aAAa,GAAGP,KAAK;QAC3BA,KAAK,GAAGQ,SAAS;QACjBT,gBAAgB,CAACU,KAAK,EAAE;QACxB,OAAOF,aAAa;MACxB;IAAC;IAAA;EAAA,EAPgBZ,OAAO,CAACe,SAAS;AA8B1C,CAAC"},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"/* modulo 40 - loja virtual - criando helper para cookie*/\n\nimport cookie from 'js-cookie';\nexport var setCookie = function setCookie(key, value) {\n  if (process.browser) cookie.set(key, value, {\n    expires: 1,\n    path: \"/\"\n  });\n};\nexport var removeCookie = function removeCookie(key) {\n  if (process.browser) cookie.remove(key, {\n    expires: 1\n  });\n};\nexport var getCookie = function getCookie(key, req) {\n  return process.browser ? getCookieFromBrowser(key) : getCookieFromServer(key, req);\n};\nvar getCookieFromBrowser = function getCookieFromBrowser(key) {\n  return cookie.get(key);\n};\nvar getCookieFromServer = function getCookieFromServer(key, req) {\n  if (!req.headers.cookie) return undefined;\n  var _cookie = req.headers.cookie.splict(\";\").find(function (c) {\n    return c.trim().startsWith(\"\".concat(key, \"=\"));\n  });\n  return _cookie ? _cookie.splict(\"=\")[1] : undefined;\n};","map":{"version":3,"names":["cookie","setCookie","key","value","process","browser","set","expires","path","removeCookie","remove","getCookie","req","getCookieFromBrowser","getCookieFromServer","get","headers","undefined","_cookie","splict","find","c","trim","startsWith"],"sources":["D:/javaScript/lojavirtual/lojavirtual/utils/cookie.js"],"sourcesContent":["/* modulo 40 - loja virtual - criando helper para cookie*/\r\n\r\nimport cookie from 'js-cookie';\r\n\r\nexport const setCookie = (key, value) => {\r\n\tif (process.browser) cookie.set(key,value,{expires: 1 , path: \"/\"})\r\n};\r\n\r\nexport const removeCookie = (key) => {\r\n\tif (process.browser) cookie.remove(key, { expires: 1 })\r\n};\r\n\r\nexport const getCookie = (key, req) => {\r\n\treturn process.browser ? getCookieFromBrowser(key) :\r\n\t\tgetCookieFromServer(key,req)\r\n}\r\n\r\nconst getCookieFromBrowser = key => cookie.get(key)\r\n\r\nconst getCookieFromServer = (key, req) => {\r\n\t\r\n\tif (!req.headers.cookie) return undefined;\r\n\tconst _cookie = req.headers.cookie.splict(\";\").find(c => c.trim().startsWith(`${key}=`));\r\n\treturn _cookie ? _cookie.splict(\"=\")[1] : undefined; \r\n\r\n}\r\n"],"mappings":"AAAA;;AAEA,OAAOA,MAAM,MAAM,WAAW;AAE9B,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAS,CAAIC,GAAG,EAAEC,KAAK,EAAK;EACxC,IAAIC,OAAO,CAACC,OAAO,EAAEL,MAAM,CAACM,GAAG,CAACJ,GAAG,EAACC,KAAK,EAAC;IAACI,OAAO,EAAE,CAAC;IAAGC,IAAI,EAAE;EAAG,CAAC,CAAC;AACpE,CAAC;AAED,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIP,GAAG,EAAK;EACpC,IAAIE,OAAO,CAACC,OAAO,EAAEL,MAAM,CAACU,MAAM,CAACR,GAAG,EAAE;IAAEK,OAAO,EAAE;EAAE,CAAC,CAAC;AACxD,CAAC;AAED,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAAS,CAAIT,GAAG,EAAEU,GAAG,EAAK;EACtC,OAAOR,OAAO,CAACC,OAAO,GAAGQ,oBAAoB,CAACX,GAAG,CAAC,GACjDY,mBAAmB,CAACZ,GAAG,EAACU,GAAG,CAAC;AAC9B,CAAC;AAED,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoB,CAAGX,GAAG;EAAA,OAAIF,MAAM,CAACe,GAAG,CAACb,GAAG,CAAC;AAAA;AAEnD,IAAMY,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIZ,GAAG,EAAEU,GAAG,EAAK;EAEzC,IAAI,CAACA,GAAG,CAACI,OAAO,CAAChB,MAAM,EAAE,OAAOiB,SAAS;EACzC,IAAMC,OAAO,GAAGN,GAAG,CAACI,OAAO,CAAChB,MAAM,CAACmB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,IAAI,EAAE,CAACC,UAAU,WAAIrB,GAAG,OAAI;EAAA,EAAC;EACxF,OAAOgB,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAGF,SAAS;AAEpD,CAAC"},"metadata":{},"sourceType":"module"}
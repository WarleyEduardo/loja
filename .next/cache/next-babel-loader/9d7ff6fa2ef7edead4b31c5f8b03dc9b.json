{"ast":null,"code":"/*Módulo 51 -  menu -  criando actionse reducers ...*/\nimport { FETCH_PEDIDOS, FETCH_PEDIDO, CLEAN_PEDIDO, CANCELAR_PEDIDO } from '../types';\nimport axios from 'axios';\nimport { url, loja } from '../../config';\nimport errorHandling from './errorHandling';\nimport { getHeades } from './helpers';\nexport var fetchPedidos = function fetchPedidos(_ref) {\n  var offset = _ref.offset,\n    limit = _ref.limit,\n    token = _ref.token;\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/pedidos?loja=\").concat(loja, \"&offset=\").concat(offset, \"&limit=\").concat(limit), getHeades(token)).then(function (response) {\n      return dispatch({\n        type: FETCH_PEDIDOS,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchPedido = function fetchPedido(_ref2) {\n  var id = _ref2.id,\n    token = _ref2.token;\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/pedidos/\").concat(id, \"?loja=\").concat(loja), getHeades(token)).then(function (response) {\n      return dispatch({\n        type: FETCH_PEDIDO,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var cancelarPedido = function cancelarPedido(_ref3) {\n  var id = _ref3.id,\n    token = _ref3.token,\n    cb = _ref3.cb;\n  return function (dispatch) {\n    axios[\"delete\"](\"\".concat(url, \"/api/pedidos/\").concat(id, \"?loja=\").concat(loja), getHeades(token)).then(function (response) {\n      dispatch({\n        type: CANCELAR_PEDIDO,\n        payload: response.data\n      });\n      cb(null);\n    })[\"catch\"](function (e) {\n      return cb(errorHandling(e));\n    });\n  };\n};\nexport var cleanPedido = function cleanPedido() {\n  return {\n    type: CLEAN_PEDIDO\n  };\n};\nexport default {\n  fetchPedido: fetchPedido,\n  fetchPedidos: fetchPedidos,\n  cancelarPedido: cancelarPedido,\n  cleanPedido: cleanPedido\n};","map":{"version":3,"names":["FETCH_PEDIDOS","FETCH_PEDIDO","CLEAN_PEDIDO","CANCELAR_PEDIDO","axios","url","loja","errorHandling","getHeades","fetchPedidos","offset","limit","token","dispatch","get","then","response","type","payload","data","e","console","log","fetchPedido","id","cancelarPedido","cb","cleanPedido"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/actions/pedidoActions.js"],"sourcesContent":["/*Módulo 51 -  menu -  criando actionse reducers ...*/\r\nimport {\r\n\r\n\tFETCH_PEDIDOS,\r\n\tFETCH_PEDIDO,\r\n\tCLEAN_PEDIDO,\r\n\tCANCELAR_PEDIDO\r\n\r\n} from '../types';\r\n\r\n\r\nimport axios from 'axios';\r\nimport { url, loja } from '../../config';\r\nimport  errorHandling  from './errorHandling';\r\nimport { getHeades } from './helpers';\r\n\r\nexport const fetchPedidos = ({ offset, limit, token }) => dispatch => {\r\n\t\r\n\taxios.get(`${url}/api/pedidos?loja=${loja}&offset=${offset}&limit=${limit}`, getHeades(token))\r\n\t\t.then(response => dispatch({ type: FETCH_PEDIDOS, payload: response.data }))\r\n\t    .catch(e => console.log(e))\r\n\r\n}\r\n\r\n\r\nexport const fetchPedido =\r\n\t({ id, token }) =>\r\n\t(dispatch) => {\r\n\t\taxios\r\n\t\t\t.get(`${url}/api/pedidos/${id}?loja=${loja}`, getHeades(token))\r\n\t\t\t.then((response) => dispatch({ type: FETCH_PEDIDO, payload: response.data }))\r\n\t\t\t.catch((e) => console.log(e));\r\n\t};\r\n\r\n\r\nexport const cancelarPedido = ({ id, token , cb}) =>(dispatch) => {\r\n\t\taxios\r\n\t\t\t.delete(`${url}/api/pedidos/${id}?loja=${loja}`, getHeades(token))\r\n\t\t\t.then((response) => {\r\n\t\t\t\tdispatch({ type: CANCELAR_PEDIDO, payload: response.data });\r\n\t\t\t\tcb(null)\r\n\t\t\t})\r\n\t\t\t.catch((e) => cb(errorHandling(e)));\r\n};\r\n\t\r\n\r\nexport const cleanPedido = () => ({ type: CLEAN_PEDIDO })\r\n\r\nexport default {\r\n\r\n\tfetchPedido,\r\n\tfetchPedidos,\r\n\tcancelarPedido,\r\n\tcleanPedido\r\n}\r\n"],"mappings":"AAAA;AACA,SAECA,aAAa,EACbC,YAAY,EACZC,YAAY,EACZC,eAAe,QAET,UAAU;AAGjB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAEC,IAAI,QAAQ,cAAc;AACxC,OAAQC,aAAa,MAAO,iBAAiB;AAC7C,SAASC,SAAS,QAAQ,WAAW;AAErC,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAY;EAAA,IAAMC,MAAM,QAANA,MAAM;IAAEC,KAAK,QAALA,KAAK;IAAEC,KAAK,QAALA,KAAK;EAAA,OAAO,UAAAC,QAAQ,EAAI;IAErET,KAAK,CAACU,GAAG,WAAIT,GAAG,+BAAqBC,IAAI,qBAAWI,MAAM,oBAAUC,KAAK,GAAIH,SAAS,CAACI,KAAK,CAAC,CAAC,CAC5FG,IAAI,CAAC,UAAAC,QAAQ;MAAA,OAAIH,QAAQ,CAAC;QAAEI,IAAI,EAAEjB,aAAa;QAAEkB,OAAO,EAAEF,QAAQ,CAACG;MAAK,CAAC,CAAC;IAAA,EAAC,SACnE,CAAC,UAAAC,CAAC;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAAA,EAAC;EAEhC,CAAC;AAAA;AAGD,OAAO,IAAMG,WAAW,GACvB,SADYA,WAAW;EAAA,IACpBC,EAAE,SAAFA,EAAE;IAAEZ,KAAK,SAALA,KAAK;EAAA,OACZ,UAACC,QAAQ,EAAK;IACbT,KAAK,CACHU,GAAG,WAAIT,GAAG,0BAAgBmB,EAAE,mBAASlB,IAAI,GAAIE,SAAS,CAACI,KAAK,CAAC,CAAC,CAC9DG,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKH,QAAQ,CAAC;QAAEI,IAAI,EAAEhB,YAAY;QAAEiB,OAAO,EAAEF,QAAQ,CAACG;MAAK,CAAC,CAAC;IAAA,EAAC,SACvE,CAAC,UAACC,CAAC;MAAA,OAAKC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAAA,EAAC;EAC/B,CAAC;AAAA;AAGF,OAAO,IAAMK,cAAc,GAAG,SAAjBA,cAAc;EAAA,IAAMD,EAAE,SAAFA,EAAE;IAAEZ,KAAK,SAALA,KAAK;IAAGc,EAAE,SAAFA,EAAE;EAAA,OAAK,UAACb,QAAQ,EAAK;IAChET,KAAK,UACG,WAAIC,GAAG,0BAAgBmB,EAAE,mBAASlB,IAAI,GAAIE,SAAS,CAACI,KAAK,CAAC,CAAC,CACjEG,IAAI,CAAC,UAACC,QAAQ,EAAK;MACnBH,QAAQ,CAAC;QAAEI,IAAI,EAAEd,eAAe;QAAEe,OAAO,EAAEF,QAAQ,CAACG;MAAK,CAAC,CAAC;MAC3DO,EAAE,CAAC,IAAI,CAAC;IACT,CAAC,CAAC,SACI,CAAC,UAACN,CAAC;MAAA,OAAKM,EAAE,CAACnB,aAAa,CAACa,CAAC,CAAC,CAAC;IAAA,EAAC;EACtC,CAAC;AAAA;AAGD,OAAO,IAAMO,WAAW,GAAG,SAAdA,WAAW;EAAA,OAAU;IAAEV,IAAI,EAAEf;EAAa,CAAC;AAAA,CAAC;AAEzD,eAAe;EAEdqB,WAAW,EAAXA,WAAW;EACXd,YAAY,EAAZA,YAAY;EACZgB,cAAc,EAAdA,cAAc;EACdE,WAAW,EAAXA;AACD,CAAC"},"metadata":{},"sourceType":"module"}
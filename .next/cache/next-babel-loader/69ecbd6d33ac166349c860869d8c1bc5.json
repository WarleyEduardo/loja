{"ast":null,"code":"/*Módulo 51 -  menu -  criando actionse reducers ...*/\nimport { FETCH_PEDIDOS, FETCH_PEDIDO, CLEAN_PEDIDO, CANCELAR_PEDIDO } from '../types';\nimport axios from 'axios';\nimport { url, loja } from '../../config';\nimport errorHandling from './errorHandling';\nimport { getHeaders } from './helpers';\nexport var fetchPedidos = function fetchPedidos(_ref) {\n  var offset = _ref.offset,\n    limit = _ref.limit,\n    token = _ref.token;\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/pedidos?loja=\").concat(loja, \"&offset=\").concat(offset, \"&limit=\").concat(limit), getHeaders(token)).then(function (response) {\n      return dispatch({\n        type: FETCH_PEDIDOS,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchPedidosData = function fetchPedidosData(_ref2) {\n  var offset = _ref2.offset,\n    limit = _ref2.limit,\n    token = _ref2.token,\n    dtInicial = _ref2.dtInicial,\n    dtFinal = _ref2.dtFinal;\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/pedidos?loja=\").concat(loja, \"&offset=\").concat(offset, \"&limit=\").concat(limit, \"\\n\\t\\t\\t\\t&dtInicial=\").concat(dtInicial, \"&dtFinal=\").concat(dtFinal), getHeaders(token)).then(function (response) {\n      return dispatch({\n        type: FETCH_PEDIDOS,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchPedido = function fetchPedido(_ref3) {\n  var pedido = _ref3.pedido,\n    token = _ref3.token;\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"/api/pedidos/\").concat(pedido, \"?loja=\").concat(loja), getHeaders(token)).then(function (response) {\n      return dispatch({\n        type: FETCH_PEDIDO,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var cancelarPedido = function cancelarPedido(_ref4) {\n  var id = _ref4.id,\n    token = _ref4.token,\n    cb = _ref4.cb;\n  return function (dispatch) {\n    axios[\"delete\"](\"\".concat(url, \"/api/pedidos/\").concat(id, \"?loja=\").concat(loja), getHeaders(token)).then(function (response) {\n      dispatch({\n        type: CANCELAR_PEDIDO,\n        payload: response.data\n      });\n      cb(null);\n    })[\"catch\"](function (e) {\n      return cb(errorHandling(e));\n    });\n  };\n};\nexport var cleanPedido = function cleanPedido() {\n  return {\n    type: CLEAN_PEDIDO\n  };\n};\nexport default {\n  fetchPedido: fetchPedido,\n  fetchPedidos: fetchPedidos,\n  fetchPedidosData: fetchPedidosData,\n  cancelarPedido: cancelarPedido,\n  cleanPedido: cleanPedido\n};","map":{"version":3,"names":["FETCH_PEDIDOS","FETCH_PEDIDO","CLEAN_PEDIDO","CANCELAR_PEDIDO","axios","url","loja","errorHandling","getHeaders","fetchPedidos","offset","limit","token","dispatch","get","then","response","type","payload","data","e","console","log","fetchPedidosData","dtInicial","dtFinal","fetchPedido","pedido","cancelarPedido","id","cb","cleanPedido"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/actions/pedidoActions.js"],"sourcesContent":["/*Módulo 51 -  menu -  criando actionse reducers ...*/\r\nimport {\r\n\r\n\tFETCH_PEDIDOS,\r\n\tFETCH_PEDIDO,\r\n\tCLEAN_PEDIDO,\r\n\tCANCELAR_PEDIDO\r\n\r\n} from '../types';\r\n\r\n\r\nimport axios from 'axios';\r\nimport { url, loja } from '../../config';\r\nimport  errorHandling  from './errorHandling';\r\nimport { getHeaders } from './helpers';\r\n\r\nexport const fetchPedidos = ({ offset, limit, token }) => dispatch => {\r\n\t\r\n\taxios\r\n\t\t.get(`${url}/api/pedidos?loja=${loja}&offset=${offset}&limit=${limit}`, getHeaders(token))\r\n\t\t.then((response) => dispatch({ type: FETCH_PEDIDOS, payload: response.data }))\r\n\t\t.catch((e) => console.log(e));\r\n\r\n}\r\n\r\nexport const fetchPedidosData =\r\n\t({ offset, limit, token, dtInicial, dtFinal }) =>\r\n\t(dispatch) => {\r\n\t\taxios\r\n\t\t\t.get(\r\n\t\t\t\t`${url}/api/pedidos?loja=${loja}&offset=${offset}&limit=${limit}\r\n\t\t\t\t&dtInicial=${dtInicial}&dtFinal=${dtFinal}`,\r\n\t\t\t\tgetHeaders(token)\r\n\t\t\t)\r\n\t\t\t.then((response) => dispatch({ type: FETCH_PEDIDOS, payload: response.data }))\r\n\t\t\t.catch((e) => console.log(e));\r\n\t};\r\n\r\n\r\n\r\nexport const fetchPedido = ({ pedido, token }) =>(dispatch) => {\r\n\t\taxios.get(`${url}/api/pedidos/${pedido}?loja=${loja}`, getHeaders(token))\r\n\t\t\t.then((response) => dispatch({ type: FETCH_PEDIDO, payload: response.data }))\r\n\t\t\t.catch((e) => console.log(e));\r\n\t};\r\n\r\n\r\nexport const cancelarPedido = ({ id, token , cb}) =>(dispatch) => {\r\n\t\taxios\r\n\t\t\t.delete(`${url}/api/pedidos/${id}?loja=${loja}`, getHeaders(token))\r\n\t\t\t.then((response) => {\r\n\t\t\t\tdispatch({ type: CANCELAR_PEDIDO, payload: response.data });\r\n\t\t\t\tcb(null);\r\n\t\t\t})\r\n\t\t\t.catch((e) => cb(errorHandling(e)));\r\n};\r\n\t\r\n\r\nexport const cleanPedido = () => ({ type: CLEAN_PEDIDO })\r\n\r\nexport default {\r\n\r\n\tfetchPedido,\r\n\tfetchPedidos,\r\n\tfetchPedidosData,\r\n\tcancelarPedido,\r\n\tcleanPedido\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
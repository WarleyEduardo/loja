{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\javaScript\\\\lojavirtual\\\\lojavirtual\\\\components\\\\Item\\\\Frete.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n/* modulo 42 - pagina de Carrinho - criando a estrutura da pagina e componentes 3/3 */\n\nimport React, { Component } from 'react';\n\n/*modulo 48 -  integrando a seçao de frete 1/2  */\n\n/*modulo 48 -  integrando a seçao de frete 2/2 */\n\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\nimport { getCart } from '../../utils/cart';\nimport { formatMoney, codigosCorreios } from '../../utils';\nimport { formatCEP } from '../../utils/format';\nvar Frete = /*#__PURE__*/function (_Component) {\n  _inherits(Frete, _Component);\n  var _super = _createSuper(Frete);\n  function Frete() {\n    var _this;\n    _classCallCheck(this, Frete);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      cep: _this.props.cep || ''\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onChangeCEP\", function (e) {\n      _this.setState({\n        cep: formatCEP(e.target.value)\n      });\n    });\n    return _this;\n  }\n  _createClass(Frete, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!prevProps.frestes && this.props.fretes && !this.props.freteSelecionado) {\n        this.props.selecionarFrete(this.props.fretes[0]);\n      }\n    }\n  }, {\n    key: \"renderOpcoesFrete\",\n    value: function renderOpcoesFrete() {\n      var _this$props = this.props,\n        freteSelecionado = _this$props.freteSelecionado,\n        cleanFretes = _this$props.cleanFretes;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        defaultValue: \"PAC\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"PAC\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 6\n        }\n      }, \"PAC (15 dias uteis) - R$ 18,90\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"SEDEX\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 6\n        }\n      }, \"SEDEX (3 dias uteis) - R$ 38,90\")));\n    }\n  }, {\n    key: \"renderOpcaoSelecionada\",\n    value: function renderOpcaoSelecionada() {\n      var _this$props2 = this.props,\n        freteSelecionado = _this$props2.freteSelecionado,\n        cleanFretes = _this$props2.cleanFretes;\n      if (!freteSelecionado) return null;\n      var valorFrete = freteSelecionado.valor.replace(\",\", \".\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex vertical flex-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"valor-frete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }\n      }, formatMoney(valorFrete)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"limpar-CEP\",\n        onClick: function onClick() {\n          return cleanFretes();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 5\n        }\n      }, \"Limpar CEP\"));\n    }\n  }, {\n    key: \"calcularFrete\",\n    value: function calcularFrete() {\n      var cep = thi.state.cep;\n      if (!cep || cep.length !== 9) return alert(\"Digite o CEP corretamente\");\n      this.props.calcularFrete(cep, getCart());\n    }\n  }, {\n    key: \"renderFormularioCEP\",\n    value: function renderFormularioCEP() {\n      var _this2 = this;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-1 flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: this.state.cep,\n        name: \"CEP\",\n        className: \"campo-frete\",\n        onChange: this.onChangeCEP,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-small\",\n        onClick: function onClick() {\n          return _this2.calcularFrete();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }\n      }, \"CALCULAR\")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dados-do-carrinho-item flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-1 flex vertical\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"heardline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }\n      }, \"Frete\"), this.props.freteSelecionado && this.renderOpcoesFrete()), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex-1 flex flex-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }\n      }, this.props.freteSelecionado ? this.renderOpcaoSelecionada() : this.renderFormularioCEP()));\n    }\n  }]);\n  return Frete;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    carrinho: state.carrinho.carrinho,\n    freteSelecionado: state.carrinho.freteSelecionado,\n    fretes: state.carrinho.fretes,\n    cep: state.carrinho.cep\n  };\n};\nexport default connect(mapStateToProps, actions)(Frete);","map":{"version":3,"names":["React","Component","connect","actions","getCart","formatMoney","codigosCorreios","formatCEP","Frete","cep","props","e","setState","target","value","prevProps","frestes","fretes","freteSelecionado","selecionarFrete","cleanFretes","valorFrete","valor","replace","thi","state","length","alert","calcularFrete","onChangeCEP","renderOpcoesFrete","renderOpcaoSelecionada","renderFormularioCEP","mapStateToProps","carrinho"],"sources":["D:/javaScript/lojavirtual/lojavirtual/components/Item/Frete.js"],"sourcesContent":["/* modulo 42 - pagina de Carrinho - criando a estrutura da pagina e componentes 3/3 */\r\n\r\n\r\nimport React, { Component } from 'react';\r\n\r\n/*modulo 48 -  integrando a seçao de frete 1/2  */\r\n\r\n/*modulo 48 -  integrando a seçao de frete 2/2 */ \r\n\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport { getCart } from '../../utils/cart';\r\nimport { formatMoney, codigosCorreios } from '../../utils';\r\nimport { formatCEP } from '../../utils/format';\r\n\r\nclass Frete extends Component {\r\n\tstate = { cep: this.props.cep || '' };\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (!prevProps.frestes && this.props.fretes && !this.props.freteSelecionado) {\r\n\t\t\tthis.props.selecionarFrete(this.props.fretes[0]);\r\n\t\t}\r\n\t}\r\n\r\n\trenderOpcoesFrete() {\r\n\r\n\t\tconst { freteSelecionado, cleanFretes } = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<select defaultValue='PAC'>\r\n\t\t\t\t\t<option value='PAC'>PAC (15 dias uteis) - R$ 18,90</option>\r\n\t\t\t\t\t<option value='SEDEX'>SEDEX (3 dias uteis) - R$ 38,90</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderOpcaoSelecionada() {\r\n\r\n\t\tconst { freteSelecionado, cleanFretes } = this.props;\r\n\t\tif (!freteSelecionado) return null;\r\n\t\tconst valorFrete = freteSelecionado.valor.replace(\",\", \".\");\r\n\t\t\r\n \t\treturn (\r\n\t\t\t<div className='flex vertical flex-center'>\r\n\t\t\t\t\t<h4 className='valor-frete'>{formatMoney(valorFrete)}</h4>\r\n\t\t\t\t<span className='limpar-CEP'\r\n\t\t\t\t onClick={ ()=> cleanFretes()}\t\r\n\t\t\t\t>\r\n\t\t\t\t\tLimpar CEP\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tonChangeCEP = (e) => {\r\n\t\tthis.setState({ cep: formatCEP(e.target.value) });\r\n\t};\r\n\r\n\tcalcularFrete() {\r\n\t\t\r\n\t\tconst { cep } = thi.state;\r\n\t\tif (!cep || cep.length !== 9) return alert(\"Digite o CEP corretamente\");\r\n\t\tthis.props.calcularFrete(cep, getCart());\r\n\t}\r\n\r\n\trenderFormularioCEP() {\r\n\t\treturn (\r\n\t\t\t<div className='flex-1 flex'>\r\n\t\t\t\t<div className='flex-3'>\r\n\t\t\t\t\t<input value={this.state.cep} name='CEP' className='campo-frete' onChange={this.onChangeCEP} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t<button className='btn btn-primary btn-small' onClick={() => this.calcularFrete()}>\r\n\t\t\t\t\t\tCALCULAR\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='dados-do-carrinho-item flex'>\r\n\t\t\t\t<div className='flex-1 flex vertical'>\r\n\t\t\t\t\t<p className='heardline'>Frete</p>\r\n\t\t\t\t\t{this.props.freteSelecionado && this.renderOpcoesFrete()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='flex-1 flex flex-center'>{this.props.freteSelecionado ? this.renderOpcaoSelecionada() : this.renderFormularioCEP()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n\tcarrinho: state.carrinho.carrinho,\r\n\tfreteSelecionado: state.carrinho.freteSelecionado,\r\n\tfretes: state.carrinho.fretes,\r\n\tcep: state.carrinho.cep\r\n})\r\n\r\nexport default connect(mapStateToProps,actions)(Frete);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
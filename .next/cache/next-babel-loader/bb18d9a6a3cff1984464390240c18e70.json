{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\n/* modulo 49 - Criando as funções e error handlign para os dados do cliente 1/2*/\n\n/*modulo 49 - Criando as funções e error handlign para os dados do cliente 2/2*/\nvar errorHandling = function errorHandling(error) {\n  console.log('teste', error.response);\n  console.log('teste 2', error.response.request.status);\n  console.log(error, error.response ? error.response.data : null);\n  if (!error.response || !error.response.data) {\n    return {\n      status: 500,\n      message: \"Ocorreu um erro no servidor. Tente novamente.\"\n    };\n  }\n  if (error.response.data.status === 401) {\n    return {\n      status: 401,\n      message: \"Você não tem autorização para acessar esses dados.\"\n    };\n  }\n  var _errors = error.response.data.errors || error.response.data.error;\n  if (_errors && typeof _errors === \"string\") return {\n    status: 400,\n    message: _erros\n  };\n  var msg = 'Erro: ';\n  if (!_Array$isArray(_errors)) {\n    _Object$keys(_errors).forEach(function (erro, index) {\n      msg += \"\".concat(erro, \" \").concat(_errors[erro].message || _errors[erro], \"\\n\");\n    });\n  } else {\n    msg += \"Preenchar corretamente \".concat(_errors.length > 1 ? \"os campos \" : \"o campo \", \" de:\");\n    _errors.forEach(function (item, index) {\n      var field = item.field[item.field.length - 1];\n      msg += \" \".concat(field, \" \").concat(index === _errors.length - 1 ? \".\" : \",\");\n    });\n  }\n  return {\n    status: 400,\n    message: msg\n  };\n};\nexport default errorHandling;","map":{"version":3,"names":["errorHandling","error","console","log","response","request","status","data","message","_errors","errors","_erros","msg","forEach","erro","index","length","item","field"],"sources":["D:/javaScript/lojavirtual/lojavirtual/redux/actions/errorHandling.js"],"sourcesContent":["/* modulo 49 - Criando as funções e error handlign para os dados do cliente 1/2*/\r\n\r\n/*modulo 49 - Criando as funções e error handlign para os dados do cliente 2/2*/\r\nconst errorHandling = (error) => {\r\n\t \r\n\tconsole.log('teste', error.response); \r\n\tconsole.log('teste 2', error.response.request.status); \r\n      \t\r\n\tconsole.log(error, error.response ? error.response.data : null);\r\n\r\n\tif (!error.response || !error.response.data) {\r\n\t\t\r\n\t\treturn { status: 500, message: \"Ocorreu um erro no servidor. Tente novamente.\" };\r\n\t}\r\n\r\n\t\r\n\t\r\n\r\n\tif (error.response.data.status === 401) {\r\n\r\n\t\treturn { status: 401, message: \"Você não tem autorização para acessar esses dados.\" };\r\n\t}\r\n\r\n\tconst _errors = error.response.data.errors || error.response.data.error;\r\n\r\n\tif (_errors && typeof _errors === \"string\") return { status: 400, message: _erros };\r\n\r\n\tlet msg = 'Erro: ';\r\n\tif (!Array.isArray(_errors)) {\r\n\r\n\t\tObject.keys(_errors).forEach((erro, index) => {\r\n\t\t\t\r\n\t\t\tmsg += `${erro} ${_errors[erro].message || _errors[erro]}\\n`;\r\n\t\t} )\r\n\t} else {\r\n\r\n\t\tmsg += `Preenchar corretamente ${_errors.length > 1 ? \"os campos \" : \"o campo \"} de:`;\r\n\t\t_errors.forEach((item, index) => {\r\n\t\t\t\r\n\t\t\tconst field = item.field[item.field.length - 1];\r\n\t\t\tmsg += ` ${field} ${index === _errors.length - 1 ? \".\" : \",\"}` \r\n\t\t})\r\n\t}\r\n\r\n\r\n\treturn { status: 400, message: msg };\r\n};\r\n\r\n\r\nexport default errorHandling;"],"mappings":";;AAAA;;AAEA;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAa,CAAIC,KAAK,EAAK;EAEhCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAACG,QAAQ,CAAC;EACpCF,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK,CAACG,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC;EAErDJ,OAAO,CAACC,GAAG,CAACF,KAAK,EAAEA,KAAK,CAACG,QAAQ,GAAGH,KAAK,CAACG,QAAQ,CAACG,IAAI,GAAG,IAAI,CAAC;EAE/D,IAAI,CAACN,KAAK,CAACG,QAAQ,IAAI,CAACH,KAAK,CAACG,QAAQ,CAACG,IAAI,EAAE;IAE5C,OAAO;MAAED,MAAM,EAAE,GAAG;MAAEE,OAAO,EAAE;IAAgD,CAAC;EACjF;EAKA,IAAIP,KAAK,CAACG,QAAQ,CAACG,IAAI,CAACD,MAAM,KAAK,GAAG,EAAE;IAEvC,OAAO;MAAEA,MAAM,EAAE,GAAG;MAAEE,OAAO,EAAE;IAAqD,CAAC;EACtF;EAEA,IAAMC,OAAO,GAAGR,KAAK,CAACG,QAAQ,CAACG,IAAI,CAACG,MAAM,IAAIT,KAAK,CAACG,QAAQ,CAACG,IAAI,CAACN,KAAK;EAEvE,IAAIQ,OAAO,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE,OAAO;IAAEH,MAAM,EAAE,GAAG;IAAEE,OAAO,EAAEG;EAAO,CAAC;EAEnF,IAAIC,GAAG,GAAG,QAAQ;EAClB,IAAI,CAAC,eAAcH,OAAO,CAAC,EAAE;IAE5B,aAAYA,OAAO,CAAC,CAACI,OAAO,CAAC,UAACC,IAAI,EAAEC,KAAK,EAAK;MAE7CH,GAAG,cAAOE,IAAI,cAAIL,OAAO,CAACK,IAAI,CAAC,CAACN,OAAO,IAAIC,OAAO,CAACK,IAAI,CAAC,OAAI;IAC7D,CAAC,CAAE;EACJ,CAAC,MAAM;IAENF,GAAG,qCAA8BH,OAAO,CAACO,MAAM,GAAG,CAAC,GAAG,YAAY,GAAG,UAAU,SAAM;IACrFP,OAAO,CAACI,OAAO,CAAC,UAACI,IAAI,EAAEF,KAAK,EAAK;MAEhC,IAAMG,KAAK,GAAGD,IAAI,CAACC,KAAK,CAACD,IAAI,CAACC,KAAK,CAACF,MAAM,GAAG,CAAC,CAAC;MAC/CJ,GAAG,eAAQM,KAAK,cAAIH,KAAK,KAAKN,OAAO,CAACO,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAE;IAC/D,CAAC,CAAC;EACH;EAGA,OAAO;IAAEV,MAAM,EAAE,GAAG;IAAEE,OAAO,EAAEI;EAAI,CAAC;AACrC,CAAC;AAGD,eAAeZ,aAAa"},"metadata":{},"sourceType":"module"}